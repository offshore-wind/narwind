<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Getting started • narwind</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Getting started">
<meta property="og:description" content="narwind">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">narwind</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/narwind.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Getting started</h1>
                        <h4 data-toc-skip class="author">Phil Bouchet,
Enrico Pirotta, Len Thomas, Catriona Harris</h4>
            <address class="author_afil">
      Centre for Research into Ecological &amp; Environmental Modelling,
University of St Andrews<br><h4 data-toc-skip class="date">2023-03-16</h4>
      
      
      <div class="hidden name"><code>narwind.Rmd</code></div>

    </address>
</div>

    
    
<div class="section level2">
<h2 id="preamble">Preamble<a class="anchor" aria-label="anchor" href="#preamble"></a>
</h2>
<p>The <code>narwind</code> R package provides methods to forecast the
abundance of critically endangered North Atlantic right whales (NARW,
<em>Eubalaena glacialis</em>) under user-specified offshore wind
development scenarios. <code>narwind</code>offers an implementation of
the spatially-explicit bioenergetic PCoMS model described in
[<strong>placeholder reference</strong>], whereby the movements of
different NARW cohorts (juveniles, adult males, pregnant females,
resting females, lactating females + dependent calves) are simulated
across throughout an entire calendar year, and population size
projections are made over a time horizon relevant to management (35–50
years). The package operates at a daily scale and accounts for the
effects of multiple anthropogenic stressors affecting NARW health,
reproduction, and survival, including: (1) direct mortality from vessel
strikes, (2) behavioral responses to noise exposure leading to cessation
of foraging/nursing activities, and (3) increased energetic costs
associated with entanglement in fishing gear.</p>
</div>
<div class="section level2">
<h2 id="package-installation">Package installation<a class="anchor" aria-label="anchor" href="#package-installation"></a>
</h2>
<p>The latest development version of <code>narwind</code> can be
installed from GitHub. This requires either the <a href="https://cran.r-project.org/web/packages/remotes/index.html" class="external-link">remotes</a>
or the <a href="https://cran.r-project.org/web/packages/devtools/index.html" class="external-link">devtools</a>
package to be pre-installed.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("remotes")</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"pjbouchet/narwind"</span><span class="op">)</span> <span class="co"># OR</span></span>
<span></span>
<span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"pjbouchet/narwind"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>This vignette covers all the steps required to run the bioenergetic
model and make predictions of right whale abundance over a future time
span of interest. This includes:</p>
<ul>
<li>Loading the package and compiling the necessary model code</li>
<li>Running simulations using the <code>narw</code> function.</li>
<li>Inspecting outputs using the <code>print</code> method.</li>
<li>Generating summary statistics, simulation diagnostics, and maps
using the <code>summary</code> and <code>plot</code> methods.</li>
<li>Forecasting population size using the <code>predict</code>
method.</li>
</ul>
<p><code>narwind</code> relies on multiple data inputs, including:</p>
<p>The package contains proxy surfaces for all of these, allowing
analyses to be carried out out of the box.</p>
</div>
<div class="section level2">
<h2 id="example-analysis">Example analysis<a class="anchor" aria-label="anchor" href="#example-analysis"></a>
</h2>
<blockquote>
<p><strong>Note:</strong> In R, the <code><a href="https://rdrr.io/r/utils/help.html" class="external-link">help()</a></code> function and
<code>?</code> help operator provide access to the documentation pages
for package functions, datasets, or other objects. To access
documentation for the standard <code>lm</code> (linear model) function,
for instance, enter the command <code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">help(lm)</a></code> or
<code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">help("lm")</a></code>, or <code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">?lm</a></code> or <code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">?"lm"</a></code>
(i.e., the quotes are optional).</p>
</blockquote>
<div class="section level3">
<h3 id="loading-the-package">Loading the package<a class="anchor" aria-label="anchor" href="#loading-the-package"></a>
</h3>
<p>The first step is to load the package. This is done using the
<code>library</code> command, which prints a welcome message with basic
information in the R console:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/load_all.html" class="external-link">load_all</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Loading <span style="color: #0000BB;">narwind</span></span></span>
<span><span class="co">#&gt; -----------------------------------------------------------------------------------</span></span>
<span><span class="co">#&gt; Population Effects of Offshore Wind Development on North Atlantic Right Whales</span></span>
<span><span class="co">#&gt; -----------------------------------------------------------------------------------</span></span>
<span><span class="co">#&gt; narwind: version 1.0</span></span>
<span><span class="co">#&gt; Package developed under funding from the U.S. Bureau of Ocean Energy Management</span></span>
<span><span class="co">#&gt; (BOEM Contract No. 140M0121C0008)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; For more information, see the package website at:</span></span>
<span><span class="co">#&gt; https://pjbouchet.github.io/narwind/index.html</span></span>
<span><span class="co">#&gt; Warning: ── <span style="font-weight: bold;">Conflicts</span> ────────────────────────────────────────────── narwind conflicts</span></span>
<span><span class="co">#&gt; ──</span></span>
<span><span class="co">#&gt; <span style="color: #BB0000;">✖</span> `<span style="color: #00BB00;">narw</span>` masks `<span style="color: #0000BB;">narwind</span>::narw()`.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> <span style="color: #555555;">Did you accidentally source a file rather than using `load_all()`?</span></span></span>
<span><span class="co">#&gt;   <span style="color: #555555;">Run `rm(list = c("narw"))` to remove the conflicts.</span></span></span></code></pre></div>
<blockquote>
<p><strong>Note:</strong> <code>narwind</code> is largely written in
C++, i.e., a high-level, general-purpose programming language often used
in high-performance applications. C++ is a compiled language, meaning
that any source code must first be converted into machine-readable code
before execution. This compilation process results in an executable
file, which can be translated as R functions. This step is automatically
performed in the background as part of the <code>library</code> call
above.</p>
</blockquote>
</div>
<div class="section level3">
<h3 id="running-the-model">Running the model<a class="anchor" aria-label="anchor" href="#running-the-model"></a>
</h3>
<p>The bioenergetic model is run by calling the <code><a href="../reference/narw.html">narw()</a></code>
function. The number of simulated animals per cohort, <code>nsim</code>,
is the only mandatory argument; all others are optional and set to
default values.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Simulate 20 juvenile females and store the outputs in an object called 'm'</span></span>
<span><span class="co"># This is the same as m &lt;- narw(20,2)</span></span>
<span><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/narw.html">narw</a></span><span class="op">(</span>nsim <span class="op">=</span> <span class="fl">20</span>, cohort <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<p>The arguments that can be passed to <code><a href="../reference/narw.html">narw()</a></code> are listed
below.</p>
<table style="width:100%;" class="table">
<colgroup>
<col width="5%">
<col width="6%">
<col width="87%">
</colgroup>
<thead><tr class="header">
<th>Argument</th>
<th>Default value</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>nsim</code></td>
<td><code>1000</code></td>
<td>Positive integer. Number of simulated animals.</td>
</tr>
<tr class="even">
<td><code>scenario</code></td>
<td><code>NULL</code></td>
<td>An optional object of class <code>narw.scenario</code>, as returned
by <code>scenario()</code> function.</td>
</tr>
<tr class="odd">
<td><code>cohort</code></td>
<td><code>1:6</code></td>
<td>
<p>Integer between 1 and 6. Unique identifier for population
cohorts. Defaults to all cohorts. Note that calves are simulated
simultaneously with their mothers when <code>cohort = 5</code>.</p>
<p>1: Juveniles (male)<br>
2: Juveniles (female)<br>
3: Adults (male)<br>
4: Adults (female, pregnant)<br>
5: Adults (female, lactating)<br>
6: Adults (female, resting)”</p>
</td>
</tr>
<tr class="even">
<td><code>n.cores</code></td>
<td><code>NULL</code></td>
<td>Positive integer. Number of CPU cores to use in parallel processing.
The default value of <code>NULL</code> detects the processor
configuration and sets up computations to run on the maximum allowable
number of available cores.</td>
</tr>
<tr class="odd">
<td><code>progress</code></td>
<td><code>TRUE</code></td>
<td>Logical. If <code>TRUE</code>, a progress bar is shown during
execution.</td>
</tr>
</tbody>
</table>
<p>The resulting object is of class <code>narwsim</code>:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">m</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span></span>
<span><span class="co">#&gt; [1] "narwsim"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="viewing-outputs">Viewing outputs<a class="anchor" aria-label="anchor" href="#viewing-outputs"></a>
</h3>
<p>Outputs from the simulator can be viewed using the
<code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> method. This is as simple as typing the model
object name (<code>m</code>) and pressing <code>[enter]</code>. The
default behavior here is to return data for the first animal, only
showing the first 4 days of the simulation. This can be easily changed
by the user, as demonstrated below:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Default overview - same as print(m)</span></span>
<span><span class="va">m</span></span>
<span><span class="co">#&gt; =========================================================================================</span></span>
<span><span class="co">#&gt; Juveniles (female) </span></span>
<span><span class="co">#&gt; =========================================================================================</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt; Locations </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt;          date  easting  northing region</span></span>
<span><span class="co">#&gt; 1: 2022-02-01 20.50000 -53.50000   SEUS</span></span>
<span><span class="co">#&gt; 2: 2022-02-02 14.75437 -45.55786   SEUS</span></span>
<span><span class="co">#&gt; 3: 2022-02-03 23.60557 -50.74120   SEUS</span></span>
<span><span class="co">#&gt; 4: 2022-02-04 19.66053 -50.13333   SEUS</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt; Attributes </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt;    cohort alive   age        bc   length length_a   length_b  length_c     mass</span></span>
<span><span class="co">#&gt; 1:      2     1 6.869 0.2330852 12.45229   1404.7 -0.4210679 -0.182138 23770.13</span></span>
<span><span class="co">#&gt; 2:      2     1 6.869 0.2330852 12.45229   1404.7 -0.4210679 -0.182138 23770.13</span></span>
<span><span class="co">#&gt; 3:      2     1 6.869 0.2330852 12.45229   1404.7 -0.4210679 -0.182138 23770.13</span></span>
<span><span class="co">#&gt; 4:      2     1 6.869 0.2330852 12.45229   1404.7 -0.4210679 -0.182138 23770.13</span></span>
<span><span class="co">#&gt;    leanmass  fatmass    mass_a   mass_b   mouth_r mouth_a  mouth_w</span></span>
<span><span class="co">#&gt; 1: 18229.66 5540.465 -4.675318 2.931193 0.1413656    76.7 1.760325</span></span>
<span><span class="co">#&gt; 2: 18229.66 5540.465 -4.675318 2.931193 0.1413656    76.7 1.760325</span></span>
<span><span class="co">#&gt; 3: 18229.66 5540.465 -4.675318 2.931193 0.1413656    76.7 1.760325</span></span>
<span><span class="co">#&gt; 4: 18229.66 5540.465 -4.675318 2.931193 0.1413656    76.7 1.760325</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt; Stressors </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt;    is_entgl entgl_head severity entgl_d entgl_start entgl_end strike noise</span></span>
<span><span class="co">#&gt; 1:        0          0        0       0           0         0      0     0</span></span>
<span><span class="co">#&gt; 2:        0          0        0       0           0         0      0     0</span></span>
<span><span class="co">#&gt; 3:        0          0        0       0           0         0      0     0</span></span>
<span><span class="co">#&gt; 4:        0          0        0       0           0         0      0     0</span></span>
<span><span class="co">#&gt;    dB_thresh</span></span>
<span><span class="co">#&gt; 1:         0</span></span>
<span><span class="co">#&gt; 2:         0</span></span>
<span><span class="co">#&gt; 3:         0</span></span>
<span><span class="co">#&gt; 4:         0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt; Activity budgets </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt;     d_travel swimspeed  t_travel t_feed t_nurse   t_rest n_zero    t_sum</span></span>
<span><span class="co">#&gt; 1:  9.802544  5536.257 10.678116      0       0 13.32188      2 6.184984</span></span>
<span><span class="co">#&gt; 2: 10.257231  3490.313 10.397949      0       0 13.60205      2 9.081645</span></span>
<span><span class="co">#&gt; 3:  3.991595  4840.793  9.712616      0       0 14.28738      2 6.223917</span></span>
<span><span class="co">#&gt; 4:  1.510523  1972.477  9.758049      0       0 14.24195      2 6.015502</span></span>
<span><span class="co">#&gt;    t_remain</span></span>
<span><span class="co">#&gt; 1: 8.907508</span></span>
<span><span class="co">#&gt; 2: 7.459177</span></span>
<span><span class="co">#&gt; 3: 8.888042</span></span>
<span><span class="co">#&gt; 4: 8.992249</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt; Growth </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt;        E_tot E_in    E_out delta_fat DE_lip ED_lip lip_anab lip_catab</span></span>
<span><span class="co">#&gt; 1: -4651.957    0 4651.957         0   0.75     39      0.8         0</span></span>
<span><span class="co">#&gt; 2: -4261.411    0 4261.411         0   0.75     39      0.8         0</span></span>
<span><span class="co">#&gt; 3: -5663.145    0 5663.145         0   0.75     39      0.8         0</span></span>
<span><span class="co">#&gt; 4: -4417.746    0 4417.746         0   0.75     39      0.8         0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt; Energy intake </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt;    feed     preyconc   minprey     gape feedspeed   captEff impedance daylight</span></span>
<span><span class="co">#&gt; 1:    0 5.853154e-09 2720.3550 2.007185 0.5597133 0.9386335         0 10.99056</span></span>
<span><span class="co">#&gt; 2:    0 4.547844e-09 1486.2760 2.007185 0.7010541 0.9439358         0 10.98667</span></span>
<span><span class="co">#&gt; 3:    0 7.523593e-09  879.2156 2.007185 0.8332389 0.9044154         0 10.98889</span></span>
<span><span class="co">#&gt; 4:    0 5.852338e-09 1585.9258 2.007185 0.9793049 0.8671810         0 10.98889</span></span>
<span><span class="co">#&gt;    feed_effort  targetBC     cop_mass     cop_kJ digestEff  metabEff</span></span>
<span><span class="co">#&gt; 1:   0.5176495 0.5271131 0.0004444376 0.02263933 0.8827658 0.7164818</span></span>
<span><span class="co">#&gt; 2:   0.5176495 0.5271131 0.0004136803 0.02037770 0.8882616 0.7172286</span></span>
<span><span class="co">#&gt; 3:   0.5176495 0.5271131 0.0004758879 0.02071137 0.8798148 0.7342712</span></span>
<span><span class="co">#&gt; 4:   0.5176495 0.5271131 0.0001711611 0.02684233 0.8911280 0.6782097</span></span>
<span><span class="co">#&gt;           E_cop</span></span>
<span><span class="co">#&gt; 1: 6.363925e-06</span></span>
<span><span class="co">#&gt; 2: 5.370547e-06</span></span>
<span><span class="co">#&gt; 3: 6.367386e-06</span></span>
<span><span class="co">#&gt; 4: 2.776702e-06</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt; Energy costs </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt;         rmr       LC    stroke   E_growth</span></span>
<span><span class="co">#&gt; 1: 266.0809 4385.814 0.1454761 0.06186888</span></span>
<span><span class="co">#&gt; 2: 266.0809 3995.268 0.1325218 0.06186888</span></span>
<span><span class="co">#&gt; 3: 266.0809 5397.002 0.1790169 0.06186888</span></span>
<span><span class="co">#&gt; 4: 266.0809 4151.603 0.1377074 0.06186888</span></span>
<span></span>
<span><span class="co"># First 20 days of the simulation for the fifth whle</span></span>
<span><span class="co"># print(m, 20, 5)</span></span></code></pre></div>
<p>The <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> method has the following arguments:</p>
<table style="width:99%;" class="table">
<colgroup>
<col width="5%">
<col width="8%">
<col width="85%">
</colgroup>
<thead><tr class="header">
<th>Argument</th>
<th>Default value</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>obj</code></td>
<td><code>-</code></td>
<td>Input model object, as returned by <code><a href="../reference/narw.html">narw()</a></code>.</td>
</tr>
<tr class="even">
<td><code>rows</code></td>
<td><code>4</code></td>
<td>Positive integer, or vector of positive integers indicating which
days of the simulation should be displayed. Defaults to <code>4</code>,
which returns data for days 1, 2, 3, 4.</td>
</tr>
<tr class="odd">
<td><code>whale</code></td>
<td><code>1</code></td>
<td>Positive integer indicating the individual for which data should be
extracted.</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="summarizing-outputs">Summarizing outputs<a class="anchor" aria-label="anchor" href="#summarizing-outputs"></a>
</h3>
<p>The <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> method provides a range of diagnostics for
assessing how simulated whale behavior aligns with biological
expectations. These include<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a>:</p>
<ul>
<li>A breakdown of mortality by cohort, region, and cause of death.</li>
<li>A tally of daily locations by cohort, region and country (U.S.
vs. Canada).</li>
<li>A summary of spatial movements, at both daily (<code>step</code>)
and annual (<code>migration</code>) scales. The proportion of animals
that reached either migratory endpoint (i.e., the SEUS calving grounds
and the Gulf of St Lawrence feeding grounds) is also reported for each
cohort.</li>
<li>A summary of occupancy rates and residency times in each region, per
cohort.</li>
<li>An overview of activity budgets, i.e., mean (± SD) time spent (hrs)
engaging in each of the four categories of behavior considered in the
model (traveling, resting, nursing, and feeding), by region.</li>
<li>Time series of individual body conditions, by cohort.</li>
</ul>
<p>Several plots are also produced to illustrate</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">m</span><span class="op">)</span></span>
<span><span class="co">#&gt; -------------------------------------------------------------</span></span>
<span><span class="co">#&gt; -------------------------------------------------------------</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;      NORTH ATLANTIC RIGHT WHALE (Eubalaena glacialis)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;                 --- MODEL SUMMARY ---</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; -------------------------------------------------------------</span></span>
<span><span class="co">#&gt; -------------------------------------------------------------</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; BOF: Bay of Fundy (lower, upper)</span></span>
<span><span class="co">#&gt; CABOT: Cabot Strait</span></span>
<span><span class="co">#&gt; CCB: Cape Cod Bay</span></span>
<span><span class="co">#&gt; GOM: Gulf of Maine and Georges Bank</span></span>
<span><span class="co">#&gt; GSL: Gulf of St Lawrence</span></span>
<span><span class="co">#&gt; MIDA: Mid-Atlantic</span></span>
<span><span class="co">#&gt; SCOS: Scotian Shelf</span></span>
<span><span class="co">#&gt; SEUS: South-east United States</span></span>
<span><span class="co">#&gt; SNE: Southern New England</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; =============================================================</span></span>
<span><span class="co">#&gt; SIMULATIONS</span></span>
<span><span class="co">#&gt; =============================================================</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; No. animals: 20 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Cohort(s):</span></span>
<span><span class="co">#&gt; Juveniles (female) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Simulation start: February </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; =============================================================</span></span>
<span><span class="co">#&gt; MORTALITY &amp; HEALTH</span></span>
<span><span class="co">#&gt; =============================================================</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; cohort    dead       alive       </span></span>
<span><span class="co">#&gt; --------  ---------  ------------</span></span>
<span><span class="co">#&gt; jv(fml)   0.0% (0)   100.0% (20)</span></span></code></pre></div>
<p><img src="narwind_files/figure-html/model_summary-1.png" width="700"></p>
<pre><code><span><span class="co">#&gt; =============================================================</span></span>
<span><span class="co">#&gt; LOCATIONS</span></span>
<span><span class="co">#&gt; =============================================================</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; region      jv(fml)      </span></span>
<span><span class="co">#&gt; ----------  -------------</span></span>
<span><span class="co">#&gt; BOF_lower   0.0%    (0)  </span></span>
<span><span class="co">#&gt; BOF_upper   0.0%    (0)  </span></span>
<span><span class="co">#&gt; CABOT       4.9%  (361)  </span></span>
<span><span class="co">#&gt; CCB         0.1%    (7)  </span></span>
<span><span class="co">#&gt; GOM         15.9% (1160) </span></span>
<span><span class="co">#&gt; GSL         18.4% (1343) </span></span>
<span><span class="co">#&gt; MIDA        7.3%  (530)  </span></span>
<span><span class="co">#&gt; SCOS        18.8% (1373) </span></span>
<span><span class="co">#&gt; SEUS        22.4% (1636) </span></span>
<span><span class="co">#&gt; SNE         12.2%  (890) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; country   jv(fml)      </span></span>
<span><span class="co">#&gt; --------  -------------</span></span>
<span><span class="co">#&gt; Canada    42.2% (3077) </span></span>
<span><span class="co">#&gt; U.S.      57.8% (4223) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; =============================================================</span></span>
<span><span class="co">#&gt; MOVEMENTS (km)</span></span>
<span><span class="co">#&gt; =============================================================</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; cohort    step                          migration                     </span></span>
<span><span class="co">#&gt; --------  ----------------------------  ------------------------------</span></span>
<span><span class="co">#&gt; jv(fml)   15.5 (± 16.9) [0.2 – 127.7]   5,647 (± 459) [4,603 – 6,674] </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; cohort    reached SEUS   reached GSL </span></span>
<span><span class="co">#&gt; --------  -------------  ------------</span></span>
<span><span class="co">#&gt; jv(fml)   100.0% (20)    75.0% (15)  </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; =============================================================</span></span>
<span><span class="co">#&gt; HABITAT USE</span></span>
<span><span class="co">#&gt; =============================================================</span></span>
<span><span class="co">#&gt; Warning: Using one column matrices in `filter()` was deprecated in dplyr 1.1.0.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Please use one dimensional logical vectors instead.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> The deprecated feature was likely used in the <span style="color: #0000BB;">dplyr</span> package.</span></span>
<span><span class="co">#&gt;   Please report the issue at <span style="color: #0000BB; font-style: italic;">&lt;</span></span></span></code></pre>
<p><img src="narwind_files/figure-html/model_summary-2.png" width="700"></p>
<pre><code><span><span class="co">#&gt; +++++++++++ Number of animals visiting each region (N = 20) +++++++++++</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; region      jv(fml)     </span></span>
<span><span class="co">#&gt; ----------  ------------</span></span>
<span><span class="co">#&gt; BOF_lower   0.0% (0)    </span></span>
<span><span class="co">#&gt; BOF_upper   0.0% (0)    </span></span>
<span><span class="co">#&gt; CABOT       75.0% (15)  </span></span>
<span><span class="co">#&gt; CCB         5.0% (1)    </span></span>
<span><span class="co">#&gt; GOM         100.0% (20) </span></span>
<span><span class="co">#&gt; GSL         75.0% (15)  </span></span>
<span><span class="co">#&gt; MIDA        100.0% (20) </span></span>
<span><span class="co">#&gt; SCOS        95.0% (19)  </span></span>
<span><span class="co">#&gt; SEUS        100.0% (20) </span></span>
<span><span class="co">#&gt; SNE         100.0% (20) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; +++++++++++ Days spent in each region +++++++++++</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; region      jv(fml)                  </span></span>
<span><span class="co">#&gt; ----------  -------------------------</span></span>
<span><span class="co">#&gt; BOF_lower   0 (± 0) [0 – 0]          </span></span>
<span><span class="co">#&gt; BOF_upper   0 (± 0) [0 – 0]          </span></span>
<span><span class="co">#&gt; CABOT       24.1 (± 9.1) [18 – 56]   </span></span>
<span><span class="co">#&gt; CCB         7 (± 0) [7 – 7]          </span></span>
<span><span class="co">#&gt; GOM         58 (± 15.8) [30 – 85]    </span></span>
<span><span class="co">#&gt; GSL         89.5 (± 36.7) [38 – 153] </span></span>
<span><span class="co">#&gt; MIDA        26.5 (± 10.2) [16 – 59]  </span></span>
<span><span class="co">#&gt; SCOS        72.3 (± 61.3) [36 – 210] </span></span>
<span><span class="co">#&gt; SEUS        81.8 (± 38.8) [32 – 196] </span></span>
<span><span class="co">#&gt; SNE         44.5 (± 20.5) [23 – 110] </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; +++++++++++ Total number of regions visited +++++++++++</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  No.regions  jv(fml)    </span></span>
<span><span class="co">#&gt; -----------  -----------</span></span>
<span><span class="co">#&gt;           4  5.0%  (1)  </span></span>
<span><span class="co">#&gt;           5  20.0%  (4) </span></span>
<span><span class="co">#&gt;           7  70.0% (14) </span></span>
<span><span class="co">#&gt;           8  5.0%  (1)  </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; =============================================================</span></span>
<span><span class="co">#&gt; ACTIVITY BUDGETS</span></span>
<span><span class="co">#&gt; =============================================================</span></span>
<span><span class="co">#&gt; Total: 24 hrs</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; +++++++++++  Juveniles (female)  +++++++++++</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; region      travel (hrs)     rest (hrs)       nurse (hrs)   feed (hrs)     </span></span>
<span><span class="co">#&gt; ----------  ---------------  ---------------  ------------  ---------------</span></span>
<span><span class="co">#&gt; BOF_lower   0 (± 0)          0 (± 0)          0 (± 0)       0 (± 0)        </span></span>
<span><span class="co">#&gt; BOF_upper   0 (± 0)          0 (± 0)          0 (± 0)       0 (± 0)        </span></span>
<span><span class="co">#&gt; CABOT       8.49 (± 3.6)     9.82 (± 3.44)    0 (± 0)       10.76 (± 2.26) </span></span>
<span><span class="co">#&gt; CCB         6.51 (± 3.56)    9.94 (± 3.67)    0 (± 0)       13.22 (± 0.79) </span></span>
<span><span class="co">#&gt; GOM         8.34 (± 3.64)    9.77 (± 3.51)    0 (± 0)       11.55 (± 2.11) </span></span>
<span><span class="co">#&gt; GSL         8.29 (± 3.66)    10.04 (± 3.4)    0 (± 0)       11.21 (± 1.87) </span></span>
<span><span class="co">#&gt; MIDA        16.03 (± 3.41)   7.97 (± 3.41)    0 (± 0)       0 (± 0)        </span></span>
<span><span class="co">#&gt; SCOS        12.68 (± 4.97)   6.78 (± 4.16)    0 (± 0)       8.6 (± 3.25)   </span></span>
<span><span class="co">#&gt; SEUS        10.88 (± 1.68)   13.12 (± 1.68)   0 (± 0)       0 (± 0)        </span></span>
<span><span class="co">#&gt; SNE         8.95 (± 3.86)    10.28 (± 3.62)   0 (± 0)       12.37 (± 2.06)</span></span></code></pre>
<p><img src="narwind_files/figure-html/model_summary-3.png" width="700"></p>
</div>
<div class="section level3">
<h3 id="plotting-outputs">Plotting outputs<a class="anchor" aria-label="anchor" href="#plotting-outputs"></a>
</h3>
<p>Lastly, maps of simulated whale tracks can be drawn using the
<code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> method. When <code>web</code> is set to
<code>TRUE</code>, interactive web-based maps that can be zoomed and
panned are produced using the <a href="https://plotly.com/ggplot2/" class="external-link"><code>ggplotly</code> R package</a>.
The location (easting, northing) and ID of each animal are displayed on
hover.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">m</span><span class="op">)</span></span></code></pre></div>
<p><img src="narwind_files/figure-html/model_plot-1.png" width="576"></p>
<p>The <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> method takes the following arguments:</p>
<table style="width:100%;" class="table">
<colgroup>
<col width="6%">
<col width="8%">
<col width="85%">
</colgroup>
<thead><tr class="header">
<th>Argument</th>
<th>Default value</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>obj</code></td>
<td><code>-</code></td>
<td>Input model object, as returned by <code><a href="../reference/narw.html">narw()</a></code>.</td>
</tr>
<tr class="even">
<td><code>web</code></td>
<td><code>FALSE</code></td>
<td>Logical. Whether to produce static maps (<code>FALSE</code>) or
interactive, web-based maps (<code>TRUE</code>).</td>
</tr>
<tr class="odd">
<td><code>whale.id</code></td>
<td><code>NULL</code></td>
<td>Positive integer indicating the individual <code>f</code>or which
data should be extracted. When set to <code>NULL</code> (the default),
the function plots tracks for all simulated animals.</td>
</tr>
<tr class="even">
<td><code>nmax</code></td>
<td><code>100</code></td>
<td>Positive integer. Maximum number of animals to plot. This argument
should be kept &lt; 100 to minimize memory usage and avoid lengthy run
times.</td>
</tr>
<tr class="odd">
<td><code>animate</code></td>
<td><code>FALSE</code></td>
<td>Logical indicating whether a video animation should be produced.
This feature is currently only in development and significantly
increases run times.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="footnotes footnotes-end-of-document">
<hr>
<ol>
<li id="fn1"><p>Simultaneously visualized graphically.<a href="#fnref1" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Phil J. Bouchet.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
