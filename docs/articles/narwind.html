<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Getting started with narwind • narwind</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Getting started with narwind">
<meta property="og:description" content="narwind">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">narwind</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/narwind.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/narw_density.html">NARW density in Canada</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Getting started with narwind</h1>
                        <h4 data-toc-skip class="author">Phil Bouchet,
Enrico Pirotta, Len Thomas, Catriona Harris</h4>
            <address class="author_afil">
      Centre for Research into Ecological &amp; Environmental Modelling,
University of St Andrews<br><h4 data-toc-skip class="date">2023-05-26</h4>
      
      
      <div class="hidden name"><code>narwind.Rmd</code></div>

    </address>
</div>

    
    
<div class="section level2">
<h2 id="preamble">Preamble<a class="anchor" aria-label="anchor" href="#preamble"></a>
</h2>
<p>The <code>narwind</code> R package provides methods to forecast the
population size of critically endangered North Atlantic right whales
(NARW, <em>Eubalaena glacialis</em>) under user-specified offshore wind
development scenarios. <code>narwind</code> is built around a
spatially-explicit PCoMS<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a> model, whereby the movements of different
NARW cohorts (i.e., juveniles, adult males, pregnant females, resting
females, lactating females and their dependent calves) are simulated
over a calendar year, and the energy budgets of individual animals are
monitored in the context of human disturbance. Insights gained from the
simulator are then used to predict NARW abundance over a time horizon
relevant to management (e.g., 35–50 years) using a stochastic population
model. The simulation operates in daily time steps and accounts for the
effects of multiple anthropogenic stressors affecting NARW health,
reproduction, and survival, namely: (1) direct mortality from vessel
strikes, (2) cessation of foraging/nursing activities following exposure
to pile-driving noise during wind farm construction activities, and (3)
increased energy expenditure resulting from entanglement in fishing
gear.</p>
<p>This vignette is a step-by-step tutorial designed to showcase the
main features of <code>narwind</code>.</p>
</div>
<div class="section level2">
<h2 id="package-installation">Package installation<a class="anchor" aria-label="anchor" href="#package-installation"></a>
</h2>
<p>The latest development version of the package can be downloaded from
<code>narwind</code> <a href="https://github.com/pjbouchet/narwind" title="narwind on Github" class="external-link">GitHub repository</a>. This requires either
the <a href="https://cran.r-project.org/web/packages/remotes/index.html" class="external-link">remotes</a>
or the <a href="https://cran.r-project.org/web/packages/devtools/index.html" class="external-link">devtools</a>
package to be pre-installed.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># To install the remotes package, run the below line</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"remotes"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># To install the devtools package, run the below line</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"devtools"</span><span class="op">)</span></span></code></pre></div>
<blockquote>
<p><strong>Note:</strong> In R, comments are indicated by a hash
<code>#</code> sign and usually appear grayed out (or in a different
color to the code itself). Comments represent generic sentences that are
mostly used for the purposes of documentation (e.g., to keep a record of
what a piece of code does), and are ignored by the program.</p>
</blockquote>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Once either of the above packages is installed, </span></span>
<span><span class="co"># narwind can be downloaded using the install_github command</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"pjbouchet/narwind"</span><span class="op">)</span> <span class="co"># OR</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"pjbouchet/narwind"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>This vignette covers all the steps required to run the bioenergetic
model and make predictions of right whale abundance over a user-defined
time horizon. This includes:</p>
<ul>
<li>Loading the package and compiling the necessary model code.</li>
<li>Defining offshore wind scenarios.</li>
<li>Running simulations using the <code><a href="../reference/narw.html">narw()</a></code> function.</li>
<li>Inspecting outputs using the <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> method.</li>
<li>Generating summary statistics, simulation diagnostics, and maps
using the <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> and <code>plot</code> methods.</li>
<li>Forecasting population size using the <code><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict()</a></code>
method.</li>
<li>Visualizing population trends using the <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code>
method.</li>
</ul>
<hr>
<p><code>narwind</code> implements a spatially explicit bioenergetic
model and is informed by several raster surfaces that relate to key
model parameters, including:</p>
<ul>
<li>Monthly ship strike risk surfaces derived from records of vessel
movements, as captured in Automatic Identification System (AIS)
data.</li>
<li>Monthly fishing entanglement risk surfaces derived from records of
fishing effort.</li>
<li>Daily pile-driving noise surfaces estimated from a simple acoustic
propagation model, which assumes that transmission loss is dependent on
log-range and frequency-specific absorption.</li>
<li>Monthly prey (<em>Calanus finmarchicus</em> stage V) density
surfaces predicted from copepod abundance models.</li>
<li>Monthly right whale density surfaces estimated from shipboard and
aerial visual surveys.</li>
</ul>
<p>More information on each of these inputs can be found under the <a href="https://pjbouchet.github.io/narwind/articles/" class="external-link">Articles</a>
menu.</p>
<p>The package contains all the surfaces required to undertake an
assessment of NARW abundance under three hypothetical offshore wind
scenarios (see <strong>[insert link]</strong>, as well as a baseline
scenario in which wind farm construction activities do not occur.</p>
</div>
<div class="section level2">
<h2 id="package-workflow">Package workflow<a class="anchor" aria-label="anchor" href="#package-workflow"></a>
</h2>
<p>A typical workflow, as described in the <a href="#example-analysis">Example analysis</a> below, consists of five
steps (Figure 1):</p>
<ol style="list-style-type: decimal">
<li>Defining the parameters of any target offshore wind scenario(s)
using the <code>scenario``()</code> function.</li>
<li>Running simulations using the <code><a href="../reference/narw.html">narw()</a></code> function,
including in the absence of wind farm development activities (i.e.,
baseline conditions, if relevant).</li>
<li>Inspecting, visualizing, and summarizing model outputs using the
<code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code>, <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code>, and <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code>
methods.</li>
<li>Forecasting right whale abundance using the <code><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict()</a></code>
method.</li>
<li>Optionally, using the <code><a href="https://rdrr.io/r/base/write.html" class="external-link">write()</a></code> method to export data for
further analysis/reporting.</li>
</ol>
<div style="width:550px">
<div class="figure">
<img src="narwind_workflow.jpg" alt="Figure 1. Schematic representation of a typical espresso workflow. Package functions and object classes are indicated in coloured font."><p class="caption">Figure 1. Schematic representation of the narwind
workflow. Package functions and object classes are indicated in coloured
font.</p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="example-analysis">Example analysis<a class="anchor" aria-label="anchor" href="#example-analysis"></a>
</h2>
<div class="section level3">
<h3 id="loading-the-package">Loading the package<a class="anchor" aria-label="anchor" href="#loading-the-package"></a>
</h3>
<p>The first step is to load the package. This is done using the
<code><a href="https://rdrr.io/r/base/library.html" class="external-link">library()</a></code> command, which prints a welcome message with
basic information in the R console:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">narwind</span><span class="op">)</span></span></code></pre></div>
<blockquote>
<p><strong>Note:</strong> <code>narwind</code> is largely written in
C++, a high-level, general-purpose programming language often used in
high-performance applications. C++ is a compiled language, meaning that
any source code must first be converted into machine-readable code
before execution. This compilation process results in an executable
file, which is then translated into R functions. No user input is
necessary; this step is automatically performed in the background as
part of the <code><a href="https://rdrr.io/r/base/library.html" class="external-link">library()</a></code> call above.</p>
</blockquote>
<blockquote>
<p><strong>Note:</strong> In R, the <code><a href="https://rdrr.io/r/utils/help.html" class="external-link">help()</a></code> function and
<code>?</code> help operator provide access to documentation pages for
package functions, datasets, or other objects. To access documentation
for the <code><a href="../reference/narw.html">narw()</a></code> function, for instance, enter any of the
commands: <code><a href="../reference/narw.html">help(narw)</a></code>, <code><a href="../reference/narw.html">help("narw")</a></code>,
<code><a href="../reference/narw.html">?narw</a></code>, or <code><a href="../reference/narw.html">?"narw"</a></code> (i.e., the quotes are
optional).</p>
</blockquote>
</div>
<div class="section level3">
<h3 id="defining-offshore-wind-scenarios">Defining offshore wind scenarios<a class="anchor" aria-label="anchor" href="#defining-offshore-wind-scenarios"></a>
</h3>
<blockquote>
<p><strong>Note:</strong> <strong>[This section will be completed after
development of the Shiny application later in 2023]</strong>.</p>
</blockquote>
</div>
<div class="section level3">
<h3 id="running-the-model">Running the model<a class="anchor" aria-label="anchor" href="#running-the-model"></a>
</h3>
<p>The bioenergetic model is run by calling the <code><a href="../reference/narw.html">narw()</a></code>
function. The number of simulated animals per cohort, <code>nsim</code>,
is the only mandatory argument; all others are optional and set to
default values. As an example, the code below can be used to simulate 50
individuals across all cohorts in the population. A list of cohorts and
their unique identifiers is stored in an object called
<code>cohorts</code>, as shown here.</p>
<pre><code><span><span class="co">#&gt;    id                       name     class     abb</span></span>
<span><span class="co">#&gt; 1:  0      Calves (male, female)    Calves  c(m,f)</span></span>
<span><span class="co">#&gt; 2:  1           Juveniles (male) Juveniles  jv(ml)</span></span>
<span><span class="co">#&gt; 3:  2         Juveniles (female) Juveniles jv(fml)</span></span>
<span><span class="co">#&gt; 4:  3              Adults (male)    Adults  ad(ml)</span></span>
<span><span class="co">#&gt; 5:  4  Adults (female, pregnant)    Adults ad(f,p)</span></span>
<span><span class="co">#&gt; 6:  5 Adults (female, lactating)    Adults ad(f,l)</span></span>
<span><span class="co">#&gt; 7:  6   Adults (female, resting)    Adults ad(f,r)</span></span></code></pre>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/narw.html">narw</a></span><span class="op">(</span>nsim <span class="op">=</span> <span class="fl">50</span><span class="op">)</span></span></code></pre></div>
<p>The arguments that can be passed to <code><a href="../reference/narw.html">narw()</a></code> are listed
below.</p>
<table class="table">
<colgroup>
<col width="13%">
<col width="19%">
<col width="67%">
</colgroup>
<thead><tr class="header">
<th>Argument</th>
<th>Default value</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>nsim</code></td>
<td><code>1000</code></td>
<td>Positive integer. Number of simulated animals.</td>
</tr>
<tr class="even">
<td><code>scenario</code></td>
<td><code>NULL</code></td>
<td>An optional object of class <code>narwscenario</code>, as returned
by the <code>scenario()</code> function.</td>
</tr>
<tr class="odd">
<td><code>cohortID</code></td>
<td><code>1:6</code></td>
<td>Integer between 1 and 6. Unique identifier for population cohorts.
Defaults to <code>1:6</code>, meaning all cohorts. Note that calves are
simulated together with their mothers when
<code>cohortID = 5</code>.</td>
</tr>
<tr class="even">
<td><code>n.cores</code></td>
<td><code>NULL</code></td>
<td>Positive integer. Number of CPU cores to use for parallel
processing. The default value of <code>NULL</code> detects the processor
configuration and runs computations on the maximum allowable number of
available cores.</td>
</tr>
<tr class="odd">
<td><code>progress</code></td>
<td><code>TRUE</code></td>
<td>Logical. If <code>TRUE</code>, a progress bar is shown during
execution.</td>
</tr>
</tbody>
</table>
<p>The resulting object is of class <code>narwsim</code>:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">m</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span></span>
<span><span class="co">#&gt; [1] "narwsim"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="viewing-data">Viewing data<a class="anchor" aria-label="anchor" href="#viewing-data"></a>
</h3>
<p>Outputs from the <code><a href="../reference/narw.html">narw()</a></code> simulator can be viewed in the R
console using the <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> method. <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> is
part of a group of generic functions that can be applied to various R
objects and will behave differently depending on the class of the object
that is passed to them. Other generic functions include
<code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code>, <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code>, or <code><a href="https://rdrr.io/r/base/write.html" class="external-link">write()</a></code>
(among others) – these are covered in later sections.
<code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> can also be called implicitly, that is, simply by
typing the name of the relevant object in the console and pressing
<code>[enter]</code> on the keyboard. The default behavior for objects
of class <code>narwsim</code> as returned by <code><a href="../reference/narw.html">narw()</a></code> is to
give an overview of the data from the first 5 days of the simulation,
for the first animal in each cohort. Optional arguments allow users to
override these default settings and display data for specific days,
animals, and/or cohorts. The <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> method has the
following arguments:</p>
<table class="table">
<colgroup>
<col width="13%">
<col width="19%">
<col width="66%">
</colgroup>
<thead><tr class="header">
<th>Argument</th>
<th>Default value</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>obj</code></td>
<td><code>-</code></td>
<td>Input model object of class <code>narwsim</code>, as returned by
<code><a href="../reference/narw.html">narw()</a></code>.</td>
</tr>
<tr class="even">
<td><code>rowID</code></td>
<td><code>1:5</code></td>
<td>Positive integer or vector of positive integers indicating which
days of the simulation should be displayed. Defaults to the first first
days.</td>
</tr>
<tr class="odd">
<td><code>whaleID</code></td>
<td><code>1</code></td>
<td>Positive integer indicating the individual for which data should be
extracted. Only the first individual is included by default.</td>
</tr>
<tr class="even">
<td><code>cohortID</code></td>
<td><code>1:6</code></td>
<td>Positive integer or vector of positive integers indicating which
cohorts should be considered. Defaults to all cohorts. Cohort
identifiers are listed in an object called <code>cohorts</code> (see
below).</td>
</tr>
</tbody>
</table>
<p>For example, the code below displays the first 5 days of the
simulation for adult males 4.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">m</span>, rowID <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, whaleID <span class="op">=</span> <span class="fl">4</span>, cohortID <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; =========================================================================================</span></span>
<span><span class="co">#&gt; Adults (male) </span></span>
<span><span class="co">#&gt; =========================================================================================</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt; Locations </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;    whale day       date  easting northing region</span></span>
<span><span class="co">#&gt; 1:     4   1 2021-10-01 666.3908 767.2687    SNE</span></span>
<span><span class="co">#&gt; 2:     4   2 2021-10-02 669.7423 763.2963    SNE</span></span>
<span><span class="co">#&gt; 3:     4   3 2021-10-03 668.7830 758.3120    SNE</span></span>
<span><span class="co">#&gt; 4:     4   4 2021-10-04 668.0348 758.1883    SNE</span></span>
<span><span class="co">#&gt; 5:     4   5 2021-10-05 671.9495 754.9655    SNE</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt; Attributes </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt;    whale day cohort gsl seus alive      age        bc   length length_a</span></span>
<span><span class="co">#&gt; 1:     4   1      3   1    0     1 19.49346 0.5109695 13.47746 1362.755</span></span>
<span><span class="co">#&gt; 2:     4   2      3   1    0     1 19.49620 0.5081994 13.47753 1362.755</span></span>
<span><span class="co">#&gt; 3:     4   3      3   1    0     1 19.49894 0.5052704 13.47761 1362.755</span></span>
<span><span class="co">#&gt; 4:     4   4      3   1    0     1 19.50168 0.5021472 13.47768 1362.755</span></span>
<span><span class="co">#&gt; 5:     4   5      3   1    0     1 19.50442 0.4990991 13.47775 1362.755</span></span>
<span><span class="co">#&gt;    length_b length_c     mass leanmass  fatmass    mass_a   mass_b   mouth_r</span></span>
<span><span class="co">#&gt; 1:    -0.37    -0.18 35611.03 17414.88 18196.15 -4.834189 2.984353 0.1491396</span></span>
<span><span class="co">#&gt; 2:    -0.37    -0.18 35411.03 17415.16 17995.86 -4.834189 2.984353 0.1491396</span></span>
<span><span class="co">#&gt; 3:    -0.37    -0.18 35201.95 17415.45 17786.50 -4.834189 2.984353 0.1491396</span></span>
<span><span class="co">#&gt; 4:    -0.37    -0.18 34981.69 17415.73 17565.96 -4.834189 2.984353 0.1491396</span></span>
<span><span class="co">#&gt; 5:    -0.37    -0.18 34769.38 17416.01 17353.37 -4.834189 2.984353 0.1491396</span></span>
<span><span class="co">#&gt;    mouth_a  mouth_w abort</span></span>
<span><span class="co">#&gt; 1:    76.7 2.010012     0</span></span>
<span><span class="co">#&gt; 2:    76.7 2.010012     0</span></span>
<span><span class="co">#&gt; 3:    76.7 2.010012     0</span></span>
<span><span class="co">#&gt; 4:    76.7 2.010012     0</span></span>
<span><span class="co">#&gt; 5:    76.7 2.010012     0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt; Stressors </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;    whale day    gear_risk is_entgl entgl_head entgl_sev entgl_d entgl_start</span></span>
<span><span class="co">#&gt; 1:     4   1 1.914950e-05        0          0         0       0           0</span></span>
<span><span class="co">#&gt; 2:     4   2 8.283051e-05        0          0         0       0           0</span></span>
<span><span class="co">#&gt; 3:     4   3 2.349283e-04        0          0         0       0           0</span></span>
<span><span class="co">#&gt; 4:     4   4 2.349283e-04        0          0         0       0           0</span></span>
<span><span class="co">#&gt; 5:     4   5 2.349283e-04        0          0         0       0           0</span></span>
<span><span class="co">#&gt;    entgl_end is_entgl_calf entgl_head_calf entgl_sev_calf entgl_d_calf</span></span>
<span><span class="co">#&gt; 1:         0             0               0              0            0</span></span>
<span><span class="co">#&gt; 2:         0             0               0              0            0</span></span>
<span><span class="co">#&gt; 3:         0             0               0              0            0</span></span>
<span><span class="co">#&gt; 4:         0             0               0              0            0</span></span>
<span><span class="co">#&gt; 5:         0             0               0              0            0</span></span>
<span><span class="co">#&gt;    entgl_start_calf entgl_end_calf strike_risk strike strike_calf noise_resp</span></span>
<span><span class="co">#&gt; 1:                0              0 0.005968806      0           0          0</span></span>
<span><span class="co">#&gt; 2:                0              0 0.001930038      0           0          0</span></span>
<span><span class="co">#&gt; 3:                0              0 0.006331118      0           0          0</span></span>
<span><span class="co">#&gt; 4:                0              0 0.006331118      0           0          0</span></span>
<span><span class="co">#&gt; 5:                0              0 0.006331118      0           0          0</span></span>
<span><span class="co">#&gt;    noise_lvl dB_thresh</span></span>
<span><span class="co">#&gt; 1:        60  124.4320</span></span>
<span><span class="co">#&gt; 2:        60  188.2693</span></span>
<span><span class="co">#&gt; 3:        60  133.1910</span></span>
<span><span class="co">#&gt; 4:        60  188.1456</span></span>
<span><span class="co">#&gt; 5:        60  120.3272</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt; Activity budgets </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;    whale day  d_travel swimspeed  t_travel    t_feed t_nurse   t_rest    t_sum</span></span>
<span><span class="co">#&gt; 1:     4   1 5.1973531 1.4648285 0.9855824 10.128017       0 12.88640 18.25998</span></span>
<span><span class="co">#&gt; 2:     4   2 5.0757380 1.0141181 1.3902988  8.572894       0 14.03681 16.65749</span></span>
<span><span class="co">#&gt; 3:     4   3 0.7583599 0.5544758 0.3799184  9.738788       0 13.88129 19.41476</span></span>
<span><span class="co">#&gt; 4:     4   4 5.0707122 1.0701678 1.3161778 10.323557       0 12.36027 17.91240</span></span>
<span><span class="co">#&gt; 5:     4   5 3.4728281 1.2992116 0.7425076  6.722130       0 16.53536 15.92575</span></span>
<span><span class="co">#&gt;    t_remain</span></span>
<span><span class="co">#&gt; 1: 5.740018</span></span>
<span><span class="co">#&gt; 2: 7.342512</span></span>
<span><span class="co">#&gt; 3: 4.585238</span></span>
<span><span class="co">#&gt; 4: 6.087601</span></span>
<span><span class="co">#&gt; 5: 8.074253</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt; Growth </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;    whale day delta_fat ED_lip  lip_anab lip_catab</span></span>
<span><span class="co">#&gt; 1:     4   1 -221.8685 39.539 0.8741449       0.8</span></span>
<span><span class="co">#&gt; 2:     4   2 -200.2895 39.539 0.8778742       0.8</span></span>
<span><span class="co">#&gt; 3:     4   3 -209.3617 39.539 0.7827032       0.8</span></span>
<span><span class="co">#&gt; 4:     4   4 -220.5460 39.539 0.7806326       0.8</span></span>
<span><span class="co">#&gt; 5:     4   5 -212.5904 39.539 0.7857043       0.8</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt; Energy balance </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;    whale day     E_tot      E_in    E_out</span></span>
<span><span class="co">#&gt; 1:     4   1 -7017.967  8.530630 7026.498</span></span>
<span><span class="co">#&gt; 2:     4   2 -6335.396  5.492681 6340.889</span></span>
<span><span class="co">#&gt; 3:     4   3 -6622.361  7.713134 6630.075</span></span>
<span><span class="co">#&gt; 4:     4   4 -6976.135 13.851685 6989.987</span></span>
<span><span class="co">#&gt; 5:     4   5 -6724.490  3.552675 6728.042</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt; Energy intake </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;    whale day feed preyconc   minprey     gape feedspeed   captEff impedance</span></span>
<span><span class="co">#&gt; 1:     4   1    1 11616.00  798.9205 2.620117 0.8113348 0.9036362         0</span></span>
<span><span class="co">#&gt; 2:     4   2    1 11655.76 1589.6649 2.620152 0.8598038 0.9093322         0</span></span>
<span><span class="co">#&gt; 3:     4   3    1 11657.77  739.7700 2.620187 0.7786827 0.8606244         0</span></span>
<span><span class="co">#&gt; 4:     4   4    1 11657.77 1791.7241 2.620222 1.2620215 0.9212691         0</span></span>
<span><span class="co">#&gt; 5:     4   5    1 11657.77 1451.7264 2.620257 0.7994873 0.8750135         0</span></span>
<span><span class="co">#&gt;    daylight feed_effort  targetBC     cop_mass     cop_kJ digestEff  metabEff</span></span>
<span><span class="co">#&gt; 1: 11.17278 0.001099903 0.5271131 0.0004462465 0.02901085 0.8857665 0.8313308</span></span>
<span><span class="co">#&gt; 2: 11.17417 0.001183488 0.5271131 0.0004256786 0.01936313 0.8900441 0.8584852</span></span>
<span><span class="co">#&gt; 3: 11.17556 0.001265387 0.5271131 0.0003829502 0.02851694 0.8855799 0.8782235</span></span>
<span><span class="co">#&gt; 4: 11.17556 0.001358149 0.5271131 0.0004088345 0.02352084 0.8874235 0.9054929</span></span>
<span><span class="co">#&gt; 5: 11.17556 0.001464553 0.5271131 0.0002588358 0.02164530 0.8857795 0.9452384</span></span>
<span><span class="co">#&gt;           E_cop</span></span>
<span><span class="co">#&gt; 1: 9.532974e-06</span></span>
<span><span class="co">#&gt; 2: 6.297987e-06</span></span>
<span><span class="co">#&gt; 3: 8.493332e-06</span></span>
<span><span class="co">#&gt; 4: 7.727095e-06</span></span>
<span><span class="co">#&gt; 5: 4.690887e-06</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt; Energetic costs </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;    whale day    E_out      rmr       LC     stroke E_growth</span></span>
<span><span class="co">#&gt; 1:     4   1 7026.498 444.6284 6563.345 0.12136731 18.52418</span></span>
<span><span class="co">#&gt; 2:     4   2 6340.889 444.6334 5877.754 0.12540303 18.50117</span></span>
<span><span class="co">#&gt; 3:     4   3 6630.075 444.6383 6166.957 0.07542957 18.47940</span></span>
<span><span class="co">#&gt; 4:     4   4 6989.987 444.6432 6526.887 0.10279983 18.45690</span></span>
<span><span class="co">#&gt; 5:     4   5 6728.042 444.6481 6264.961 0.14148821 18.43351</span></span></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># By contrast, the below will show all data </span></span>
<span><span class="va">m</span> <span class="co"># Same as print(m)</span></span></code></pre></div>
<blockquote>
<p><strong>Note:</strong> The <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> method is only used
for viewing data inside the R console. To export / save data on disk,
use the <code><a href="https://rdrr.io/r/base/write.html" class="external-link">write()</a></code> method described in the <a href="#exporting-data">Exporting data</a> section.</p>
</blockquote>
</div>
<div class="section level3">
<h3 id="model-summary-and-diagnostics">Model summary and diagnostics<a class="anchor" aria-label="anchor" href="#model-summary-and-diagnostics"></a>
</h3>
<p>The <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> method provides a range of diagnostics
that are helpful for assessing whether simulated whale behavior aligns
with biological expectations. These relate to individual (1) health, (2)
movements, (3) habitat use, (4) behavior (i.e., activity budgets), (5)
stressor exposure, and (6) energy intake vs. expenditure (see Table 1
below).</p>
<p>The function takes the following arguments:</p>
<table class="table">
<colgroup>
<col width="17%">
<col width="17%">
<col width="64%">
</colgroup>
<thead><tr class="header">
<th>Argument</th>
<th>Default value</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>obj</code></td>
<td><code>-</code></td>
<td>Input model object of class <code>narwsim</code>, as returned by
<code><a href="../reference/narw.html">narw()</a></code>.</td>
</tr>
<tr class="even">
<td><code>what</code></td>
<td><code>"all"</code></td>
<td>Character string indicating which component(s) of the summary to
display. Can be one of: <code>"health"</code>, <code>"movements"</code>,
<code>"habitatuse"</code>, <code>"behavior"</code>,
<code>"stressors"</code>, <code>"energy"</code>. Defaults to
<code>"all"</code> for a complete summary.</td>
</tr>
<tr class="odd">
<td><code>plot</code></td>
<td><code>FALSE</code></td>
<td>Logical. If <code>TRUE</code>, plots are produced in addition to a
text-based summary.</td>
</tr>
<tr class="even">
<td><code>whaleID</code></td>
<td><code>1:nsim</code></td>
<td>Positive integer indicating the individual for which data should be
extracted. By default, considers all <code>nsim</code> individuals.</td>
</tr>
<tr class="odd">
<td><code>cohortID</code></td>
<td><code>1:6</code></td>
<td>Positive integer or vector of positive integers indicating which
cohorts should be considered. Defaults to all cohorts. Cohort
identifiers are listed in an object called <code>cohorts</code>.</td>
</tr>
</tbody>
</table>
<table class="table">
<caption>Table 1. Overview of model diagnostics and summary statistics
returned by the <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> command.</caption>
<colgroup>
<col width="11%">
<col width="11%">
<col width="11%">
<col width="66%">
</colgroup>
<thead><tr class="header">
<th>Category</th>
<th>Component</th>
<th>Plots</th>
<th>Details</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Health</td>
<td>Mortality</td>
<td>No</td>
<td>Whale mortality by region, cohort, and cause of death (i.e.,
starvation vs. vessel strike) .</td>
</tr>
<tr class="even">
<td></td>
<td>Pregnancy</td>
<td>No</td>
<td>Observed abortion rate in females that started the simulation in a
pregnant state.</td>
</tr>
<tr class="odd">
<td></td>
<td>Births</td>
<td>No</td>
<td>Mean (range) date of calving events.</td>
</tr>
<tr class="even">
<td></td>
<td>Body condition</td>
<td>Yes</td>
<td>Time series of individual body condition (expressed as relative fat
mass), by cohort.</td>
</tr>
<tr class="odd">
<td></td>
<td>Growth</td>
<td>Yes</td>
<td>Growth curves, by cohort.</td>
</tr>
<tr class="even">
<td>Movements</td>
<td>Locations</td>
<td>No</td>
<td>Breakdown of (daily) locations by cohort, region, and country (U.S.
vs. Canada).</td>
</tr>
<tr class="odd">
<td></td>
<td>Destinations</td>
<td>No</td>
<td>Comparison of assigned vs. realized migratory destinations both
within and across cohorts. Migratory endpoints include the Southeastern
United States calving grounds (SEUS) and Canadian feeding grounds in the
Gulf of St Lawrence (GSL).</td>
</tr>
<tr class="even">
<td></td>
<td>Step lengths</td>
<td>Yes</td>
<td>Summary of daily movements, reported as mean (± SD, range) distances
traveled per day, by cohort. Distributions of daily step lengths are
also visualized by region and as a whole.</td>
</tr>
<tr class="odd">
<td></td>
<td>Migration</td>
<td>No</td>
<td>Summary of yearly movements, reported as mean (± SD, range) total
distance covered over the time span of the simulation, by cohort.</td>
</tr>
<tr class="even">
<td>Habitat use</td>
<td>Occupancy</td>
<td>No</td>
<td>Cohort-specific summary of the numbers of animals visiting each
region, and the number of regions visited by animals.</td>
</tr>
<tr class="odd">
<td></td>
<td>Residency</td>
<td>No</td>
<td>Breakdown of days spent in each.</td>
</tr>
<tr class="even">
<td>Behavior</td>
<td>Activity budgets</td>
<td>Yes</td>
<td>Mean (± SD) hours spent engaging in each of the four categories of
behavior considered in the model (i.e., traveling, resting, nursing, and
feeding), by region. A visual breakdown by region is also produced for
each category of behavior.</td>
</tr>
<tr class="odd">
<td>Stressors</td>
<td>Entanglements</td>
<td>Yes</td>
<td>Various summaries by cohort, including: entanglement rates,
durations, severities, probabilities, and attachment sites along the
body.</td>
</tr>
<tr class="even">
<td></td>
<td>Vessel strikes</td>
<td>No</td>
<td>Strike rates by cohort.</td>
</tr>
<tr class="odd">
<td></td>
<td>Noise</td>
<td>No</td>
<td>Summary of mean (± SD, range) noise levels encountered, behavioral
response thresholds, and numbers of days during which a response to
pile-driving was observed.</td>
</tr>
<tr class="even">
<td>Energy</td>
<td>Energy budget</td>
<td>No</td>
<td>Mean (± SD, range) daily energy intake and expenditure (expressed in
MJ/day), by cohort. Also reported are the mean (± SD, range) % time
individuals are in energetic deficit (energy balance &lt; 0) or surplus
(energy balance &gt; 0).</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Summary for adult females only</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">m</span>, cohortID <span class="op">=</span> <span class="fl">4</span><span class="op">:</span><span class="fl">6</span><span class="op">)</span></span>
<span><span class="co">#&gt; -------------------------------------------------------------</span></span>
<span><span class="co">#&gt; -------------------------------------------------------------</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;      NORTH ATLANTIC RIGHT WHALE (Eubalaena glacialis)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;                 --- MODEL SUMMARY ---</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; -------------------------------------------------------------</span></span>
<span><span class="co">#&gt; -------------------------------------------------------------</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; BOF: Bay of Fundy (lower, upper)</span></span>
<span><span class="co">#&gt; CABOT: Cabot Strait</span></span>
<span><span class="co">#&gt; CCB: Cape Cod Bay</span></span>
<span><span class="co">#&gt; GOM: Gulf of Maine and Georges Bank</span></span>
<span><span class="co">#&gt; GSL: Gulf of St Lawrence</span></span>
<span><span class="co">#&gt; MIDA: Mid-Atlantic</span></span>
<span><span class="co">#&gt; SCOS: Scotian Shelf</span></span>
<span><span class="co">#&gt; SEUS: South-east United States</span></span>
<span><span class="co">#&gt; SNE: Southern New England</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; =============================================================</span></span>
<span><span class="co">#&gt; SIMULATIONS</span></span>
<span><span class="co">#&gt; =============================================================</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; No. animals: 50 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Cohort(s)</span></span>
<span><span class="co">#&gt; ----------</span></span>
<span><span class="co">#&gt; ad(f,p): Adults (female, pregnant)</span></span>
<span><span class="co">#&gt; ad(f,l): Adults (female, lactating)</span></span>
<span><span class="co">#&gt; ad(f,r): Adults (female, resting)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Simulation start: October </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; =============================================================</span></span>
<span><span class="co">#&gt; HEALTH</span></span>
<span><span class="co">#&gt; =============================================================</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; +++++++++++ Mortality +++++++++++</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; cohort                       alive        dead        </span></span>
<span><span class="co">#&gt; ---------------------------  -----------  ------------</span></span>
<span><span class="co">#&gt; Adults (female, pregnant)    54.0% (27)   46.0% (23)  </span></span>
<span><span class="co">#&gt; Adults (female, lactating)   0.0%  (0)    100.0% (50) </span></span>
<span><span class="co">#&gt; Adults (female, resting)     40.0% (20)   60.0% (30)  </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; region      cause_death   ad(f,r)       ad(f,l)       ad(f,p) </span></span>
<span><span class="co">#&gt; ----------  ------------  ------------  ------------  --------</span></span>
<span><span class="co">#&gt; BOF_lower   starve        0.0%  (0)     - (NA)        - (NA)  </span></span>
<span><span class="co">#&gt; GOM         starve        0.0%  (0)     - (NA)        -  (0)  </span></span>
<span><span class="co">#&gt; GSL         starve        0.0%  (0)     - (NA)        -  (0)  </span></span>
<span><span class="co">#&gt; MIDA        starve        100.0%  (1)   0.0%  (0)     -  (0)  </span></span>
<span><span class="co">#&gt; SCOS        starve        0.0%  (0)     - (NA)        -  (0)  </span></span>
<span><span class="co">#&gt; SEUS        starve        - (NA)        100.0% (39)   - (NA)  </span></span>
<span><span class="co">#&gt; SNE         starve        0.0%  (0)     0.0%  (0)     -  (0)  </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; region      cause_death   ad(f,r)      ad(f,l)      ad(f,p)    </span></span>
<span><span class="co">#&gt; ----------  ------------  -----------  -----------  -----------</span></span>
<span><span class="co">#&gt; BOF_lower   strike        3.4%  (1)    - (NA)       - (NA)     </span></span>
<span><span class="co">#&gt; GOM         strike        20.7%  (6)   - (NA)       8.7%  (2)  </span></span>
<span><span class="co">#&gt; GSL         strike        3.4%  (1)    - (NA)       4.3%  (1)  </span></span>
<span><span class="co">#&gt; MIDA        strike        3.4%  (1)    18.2%  (2)   4.3%  (1)  </span></span>
<span><span class="co">#&gt; SCOS        strike        3.4%  (1)    - (NA)       17.4%  (4) </span></span>
<span><span class="co">#&gt; SEUS        strike        - (NA)       18.2%  (2)   - (NA)     </span></span>
<span><span class="co">#&gt; SNE         strike        65.5% (19)   63.6%  (7)   65.2% (15) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; +++++++++++ Pregnancies +++++++++++</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Abortion rate: 2% (1)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; +++++++++++ Births +++++++++++</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; No. births: 0% (0)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; =============================================================</span></span>
<span><span class="co">#&gt; LOCATIONS</span></span>
<span><span class="co">#&gt; =============================================================</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; region      ad(f,l)        ad(f,p)        ad(f,r)      </span></span>
<span><span class="co">#&gt; ----------  -------------  -------------  -------------</span></span>
<span><span class="co">#&gt; BOF_lower   0.0%    (0)    0.6%   (76)    1.2%  (134)  </span></span>
<span><span class="co">#&gt; BOF_upper   0.0%    (0)    0.0%    (0)    0.0%    (0)  </span></span>
<span><span class="co">#&gt; CABOT       0.0%    (0)    2.0%  (268)    1.5%  (175)  </span></span>
<span><span class="co">#&gt; CCB         0.0%    (0)    2.2%  (306)    3.4%  (396)  </span></span>
<span><span class="co">#&gt; GOM         1.7%   (81)    28.9% (3939)   27.5% (3197) </span></span>
<span><span class="co">#&gt; GSL         0.0%    (0)    5.4%  (737)    5.4%  (629)  </span></span>
<span><span class="co">#&gt; MIDA        17.8%  (871)   2.7%  (369)    3.2%  (371)  </span></span>
<span><span class="co">#&gt; SCOS        0.0%    (0)    6.6%  (893)    5.6%  (654)  </span></span>
<span><span class="co">#&gt; SEUS        31.7% (1549)   0.1%   (15)    0.0%    (0)  </span></span>
<span><span class="co">#&gt; SNE         48.8% (2386)   51.5% (7007)   52.2% (6068) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; country   ad(f,l)         ad(f,p)         ad(f,r)       </span></span>
<span><span class="co">#&gt; --------  --------------  --------------  --------------</span></span>
<span><span class="co">#&gt; Canada    0.0%    (0)     14.5%  (1974)   13.7%  (1592) </span></span>
<span><span class="co">#&gt; U.S.      100.0% (4887)   85.5% (11636)   86.3% (10032) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; =============================================================</span></span>
<span><span class="co">#&gt; MOVEMENTS (km)</span></span>
<span><span class="co">#&gt; =============================================================</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; +++++++++++ Migratory destinations (by cohort) +++++++++++</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; cohort    SEUS   reach_not     reach      </span></span>
<span><span class="co">#&gt; --------  -----  ------------  -----------</span></span>
<span><span class="co">#&gt; ad(f,p)   0      98.0% (49)    2.0%  (1)  </span></span>
<span><span class="co">#&gt; ad(f,p)   1      -  (0)        -  (0)     </span></span>
<span><span class="co">#&gt; ad(f,l)   0      -  (0)        -  (0)     </span></span>
<span><span class="co">#&gt; ad(f,l)   1      18.0%  (9)    82.0% (41) </span></span>
<span><span class="co">#&gt; ad(f,r)   0      100.0% (50)   0.0%  (0)  </span></span>
<span><span class="co">#&gt; ad(f,r)   1      -  (0)        -  (0)     </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; cohort    GSL   reach_not     reach      </span></span>
<span><span class="co">#&gt; --------  ----  ------------  -----------</span></span>
<span><span class="co">#&gt; ad(f,p)   0     63.6% (21)    36.4% (12) </span></span>
<span><span class="co">#&gt; ad(f,p)   1     47.1%  (8)    52.9%  (9) </span></span>
<span><span class="co">#&gt; ad(f,l)   0     100.0% (30)   0.0%  (0)  </span></span>
<span><span class="co">#&gt; ad(f,l)   1     100.0% (20)   0.0%  (0)  </span></span>
<span><span class="co">#&gt; ad(f,r)   0     86.7% (26)    13.3%  (4) </span></span>
<span><span class="co">#&gt; ad(f,r)   1     60.0% (12)    40.0%  (8) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; +++++++++++ Migratory destinations (all individuals) +++++++++++</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; SEUS   reach_not    reach      </span></span>
<span><span class="co">#&gt; -----  -----------  -----------</span></span>
<span><span class="co">#&gt; 0      99.0% (99)   1.0%  (1)  </span></span>
<span><span class="co">#&gt; 1      18.0%  (9)   82.0% (41) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; GSL   reach_not    reach      </span></span>
<span><span class="co">#&gt; ----  -----------  -----------</span></span>
<span><span class="co">#&gt; 0     82.8% (77)   17.2% (16) </span></span>
<span><span class="co">#&gt; 1     70.2% (40)   29.8% (17) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; +++++++++++ Step lengths and migration distances +++++++++++</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; cohort    step                       migration                 </span></span>
<span><span class="co">#&gt; --------  -------------------------  --------------------------</span></span>
<span><span class="co">#&gt; ad(f,p)   12.2 (±13.6) [0.2–119.7]   4,099 (±1,203) [42–6,704] </span></span>
<span><span class="co">#&gt; ad(f,l)   19.8 (±18.7) [0.4–123.2]   2,169 (±479) [13–2,744]   </span></span>
<span><span class="co">#&gt; ad(f,r)   12.1 (±13.2) [0–118.8]     3,853 (±1,452) [76–6,846] </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; =============================================================</span></span>
<span><span class="co">#&gt; HABITAT USE</span></span>
<span><span class="co">#&gt; =============================================================</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; +++++++++++ Number of animals visiting each region (N = 50) +++++++++++</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; region      ad(f,p)       ad(f,l)       ad(f,r)     </span></span>
<span><span class="co">#&gt; ----------  ------------  ------------  ------------</span></span>
<span><span class="co">#&gt; BOF_lower   8.0% (4)      0.0% (0)      10.0% (5)   </span></span>
<span><span class="co">#&gt; BOF_upper   0.0% (0)      0.0% (0)      0.0% (0)    </span></span>
<span><span class="co">#&gt; CABOT       44.0% (22)    0.0% (0)      32.0% (16)  </span></span>
<span><span class="co">#&gt; CCB         22.0% (11)    0.0% (0)      30.0% (15)  </span></span>
<span><span class="co">#&gt; GOM         84.0% (42)    10.0% (5)     76.0% (38)  </span></span>
<span><span class="co">#&gt; GSL         42.0% (21)    0.0% (0)      24.0% (12)  </span></span>
<span><span class="co">#&gt; MIDA        50.0% (25)    86.0% (43)    46.0% (23)  </span></span>
<span><span class="co">#&gt; SCOS        66.0% (33)    0.0% (0)      44.0% (22)  </span></span>
<span><span class="co">#&gt; SEUS        2.0% (1)      82.0% (41)    0.0% (0)    </span></span>
<span><span class="co">#&gt; SNE         100.0% (50)   100.0% (50)   100.0% (50) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; +++++++++++ Days spent in each region +++++++++++</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; region      ad(f,p)                 ad(f,l)               ad(f,r)              </span></span>
<span><span class="co">#&gt; ----------  ----------------------  --------------------  ---------------------</span></span>
<span><span class="co">#&gt; BOF_lower   19 (±8.7) [6–24]        0 (±0) [0–0]          26.8 (±28.5) [3–74]  </span></span>
<span><span class="co">#&gt; BOF_upper   0 (±0) [0–0]            0 (±0) [0–0]          0 (±0) [0–0]         </span></span>
<span><span class="co">#&gt; CABOT       12.2 (±7.1) [3–31]      0 (±0) [0–0]          10.9 (±5.9) [5–25]   </span></span>
<span><span class="co">#&gt; CCB         27.8 (±17.8) [6–74]     0 (±0) [0–0]          26.4 (±17.7) [1–58]  </span></span>
<span><span class="co">#&gt; GOM         93.8 (±52.6) [14–229]   16.2 (±17.3) [1–41]   84.1 (±52.3) [2–241] </span></span>
<span><span class="co">#&gt; GSL         35.1 (±22.7) [5–81]     0 (±0) [0–0]          52.4 (±22.7) [7–87]  </span></span>
<span><span class="co">#&gt; MIDA        14.8 (±17.6) [1–81]     20.3 (±3.6) [9–27]    16.1 (±15.2) [1–51]  </span></span>
<span><span class="co">#&gt; SCOS        27.1 (±17.2) [2–79]     0 (±0) [0–0]          29.7 (±16.3) [7–69]  </span></span>
<span><span class="co">#&gt; SEUS        15 (±0) [15–15]         37.8 (±9.6) [21–60]   0 (±0) [0–0]         </span></span>
<span><span class="co">#&gt; SNE         140.1 (±68.1) [5–269]   47.7 (±14.1) [2–71]   121.4 (±63) [9–226]  </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; +++++++++++ Total number of regions visited +++++++++++</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  No.regions  ad(f,p)      ad(f,l)      ad(f,r)    </span></span>
<span><span class="co">#&gt; -----------  -----------  -----------  -----------</span></span>
<span><span class="co">#&gt;           1  14.0%  (7)   14.0%  (7)   20.0% (10) </span></span>
<span><span class="co">#&gt;           2  6.0%  (3)    4.0%  (2)    16.0%  (8) </span></span>
<span><span class="co">#&gt;           3  18.0%  (9)   72.0% (36)   18.0%  (9) </span></span>
<span><span class="co">#&gt;           4  12.0%  (6)   10.0%  (5)   10.0%  (5) </span></span>
<span><span class="co">#&gt;           5  16.0%  (8)   - (NA)       8.0%  (4)  </span></span>
<span><span class="co">#&gt;           6  28.0% (14)   - (NA)       20.0% (10) </span></span>
<span><span class="co">#&gt;           7  6.0%  (3)    - (NA)       8.0%  (4)  </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; =============================================================</span></span>
<span><span class="co">#&gt; ACTIVITY BUDGETS</span></span>
<span><span class="co">#&gt; =============================================================</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; +++++++++++  Adults (female, pregnant)  +++++++++++</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; region      travel (hrs)    rest (hrs)      nurse (hrs)   feed (hrs)    </span></span>
<span><span class="co">#&gt; ----------  --------------  --------------  ------------  --------------</span></span>
<span><span class="co">#&gt; GOM         3.83 (±3.41)    11.01 (±4.03)   0 (±0)        9.15 (±2.92)  </span></span>
<span><span class="co">#&gt; SNE         3.52 (±3.36)    11.88 (±3.84)   0 (±0)        8.5 (±2.43)   </span></span>
<span><span class="co">#&gt; SCOS        12.61 (±5.86)   3.89 (±3.65)    0 (±0)        7.5 (±3.92)   </span></span>
<span><span class="co">#&gt; BOF_lower   3.16 (±2.55)    10.17 (±3.73)   0 (±0)        10.68 (±2.74) </span></span>
<span><span class="co">#&gt; CABOT       3.57 (±2.98)    10.22 (±3.81)   0 (±0)        10.2 (±2.86)  </span></span>
<span><span class="co">#&gt; GSL         3.67 (±3)       10.35 (±3.67)   0 (±0)        9.97 (±2.62)  </span></span>
<span><span class="co">#&gt; MIDA        12.62 (±5.8)    8.24 (±6.35)    0 (±0)        6.26 (±3.26)  </span></span>
<span><span class="co">#&gt; SEUS        8.7 (±4.85)     15.3 (±4.85)    0 (±0)        0 (± 0)       </span></span>
<span><span class="co">#&gt; CCB         2.96 (±2.67)    12.24 (±3.56)   0 (±0)        8.8 (±2.57)   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; +++++++++++  Adults (female, lactating)  +++++++++++</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; region   travel (hrs)    rest (hrs)      nurse (hrs)    feed (hrs)   </span></span>
<span><span class="co">#&gt; -------  --------------  --------------  -------------  -------------</span></span>
<span><span class="co">#&gt; SNE      3.23 (±2.76)    11.72 (±3.54)   0.49 (±0.3)    8.26 (±2.01) </span></span>
<span><span class="co">#&gt; MIDA     13.03 (±5.79)   9.35 (±6.16)    0.48 (±0.29)   5.78 (±2.96) </span></span>
<span><span class="co">#&gt; SEUS     10.11 (±5.61)   11.11 (±5.52)   2.78 (±1.69)   0 (± 0)      </span></span>
<span><span class="co">#&gt; GOM      3.48 (±3.81)    11.13 (±3.8)    0.48 (±0.31)   8.53 (±2.09) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; +++++++++++  Adults (female, resting)  +++++++++++</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; region      travel (hrs)    rest (hrs)      nurse (hrs)   feed (hrs)    </span></span>
<span><span class="co">#&gt; ----------  --------------  --------------  ------------  --------------</span></span>
<span><span class="co">#&gt; SNE         3.56 (±3.38)    11.88 (±3.82)   0 (±0)        8.43 (±2.42)  </span></span>
<span><span class="co">#&gt; MIDA        12.09 (±5.73)   8.04 (±5.91)    0 (±0)        6.49 (±3.21)  </span></span>
<span><span class="co">#&gt; GOM         3.84 (±3.4)     11.15 (±4.04)   0 (±0)        9 (±2.91)     </span></span>
<span><span class="co">#&gt; CCB         3.05 (±2.57)    11.57 (±3.58)   0 (±0)        9.38 (±2.62)  </span></span>
<span><span class="co">#&gt; SCOS        12.79 (±5.8)    3.86 (±3.61)    0 (±0)        7.35 (±3.8)   </span></span>
<span><span class="co">#&gt; CABOT       3.87 (±3.2)     9.69 (±3.97)    0 (±0)        10.44 (±2.69) </span></span>
<span><span class="co">#&gt; GSL         3.82 (±3.21)    10.01 (±3.53)   0 (±0)        10.17 (±2.46) </span></span>
<span><span class="co">#&gt; BOF_lower   3.62 (±3.68)    10.59 (±3.69)   0 (±0)        9.8 (±2.6)    </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; =============================================================</span></span>
<span><span class="co">#&gt; STRESSORS</span></span>
<span><span class="co">#&gt; =============================================================</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; +++++++++++ Entanglements +++++++++++</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; cohort    not entangled   entangled  </span></span>
<span><span class="co">#&gt; --------  --------------  -----------</span></span>
<span><span class="co">#&gt; ad(f,l)   100.0% (50)     0.0%  (0)  </span></span>
<span><span class="co">#&gt; ad(f,p)   78.0% (39)      22.0% (11) </span></span>
<span><span class="co">#&gt; ad(f,r)   80.0% (40)      20.0% (10) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; cohort    body        head      </span></span>
<span><span class="co">#&gt; --------  ----------  ----------</span></span>
<span><span class="co">#&gt; ad(f,p)   45.5% (5)   54.5% (6) </span></span>
<span><span class="co">#&gt; ad(f,r)   70.0% (7)   30.0% (3) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; cohort    No. entanglements    p(entangled)             </span></span>
<span><span class="co">#&gt; --------  -------------------  -------------------------</span></span>
<span><span class="co">#&gt; ad(f,p)   0.22 (±0.42) [0–1]   0.001 (±0.005) [0–0.218] </span></span>
<span><span class="co">#&gt; ad(f,l)   0 (±0) [0–0]         0 (±0.001) [0–0.011]     </span></span>
<span><span class="co">#&gt; ad(f,r)   0.24 (±0.52) [0–2]   0.001 (±0.004) [0–0.218] </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; cohort    minor (days)       moderate (days)   severe (days)     </span></span>
<span><span class="co">#&gt; --------  -----------------  ----------------  ------------------</span></span>
<span><span class="co">#&gt; ad(f,p)   53 (±55) [0–144]   0 (±0) [0–0]      27 (±78) [0–260]  </span></span>
<span><span class="co">#&gt; ad(f,r)   36 (±56) [0–138]   4 (±9) [0–27]     38 (±108) [0–343] </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; +++++++++++ Vessel strikes +++++++++++</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; cohort    not struck   struck     </span></span>
<span><span class="co">#&gt; --------  -----------  -----------</span></span>
<span><span class="co">#&gt; ad(f,l)   78.0% (39)   22.0% (11) </span></span>
<span><span class="co">#&gt; ad(f,p)   54.0% (27)   46.0% (23) </span></span>
<span><span class="co">#&gt; ad(f,r)   42.0% (21)   58.0% (29) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; cohort    p(strike)                </span></span>
<span><span class="co">#&gt; --------  -------------------------</span></span>
<span><span class="co">#&gt; ad(f,p)   0.002 (±0.005) [0–0.138] </span></span>
<span><span class="co">#&gt; ad(f,l)   0.003 (±0.006) [0–0.138] </span></span>
<span><span class="co">#&gt; ad(f,r)   0.002 (±0.005) [0–0.138] </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; +++++++++++ Pile-driving noise +++++++++++</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; cohort    noise level       response threshold         Responses (No. days) </span></span>
<span><span class="co">#&gt; --------  ----------------  -------------------------  ---------------------</span></span>
<span><span class="co">#&gt; ad(f,p)   60 (±0) [60–60]   150.3 (±22.9) [85–199.9]   0 (±0) [0–0]         </span></span>
<span><span class="co">#&gt; ad(f,l)   60 (±0) [60–60]   150.5 (±22.9) [85–199.6]   0 (±0) [0–0]         </span></span>
<span><span class="co">#&gt; ad(f,r)   60 (±0) [60–60]   150.2 (±22.8) [85–199.9]   0 (±0) [0–0]         </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; =============================================================</span></span>
<span><span class="co">#&gt; ENERGY BUDGETS (MJ per day) </span></span>
<span><span class="co">#&gt; =============================================================</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; cohort    Energy_intake                     Energy_expenditure                   </span></span>
<span><span class="co">#&gt; --------  --------------------------------  -------------------------------------</span></span>
<span><span class="co">#&gt; ad(f,p)   3,442.5 (±2,250.1) [0–18,779.7]   3,908.4 (±  903.2) [1,746.5–9,763.5] </span></span>
<span><span class="co">#&gt; ad(f,l)   422.6 (±  735.4) [0– 6,931.6]     3,582.5 (±1,121.0) [1,496.9–8,898.6] </span></span>
<span><span class="co">#&gt; ad(f,r)   2,843.0 (±1,791.7) [0–11,017.7]   3,155.1 (±  502.2) [1,562.7–7,038.0] </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; cohort    Deficit                    Surplus                </span></span>
<span><span class="co">#&gt; --------  -------------------------  -----------------------</span></span>
<span><span class="co">#&gt; ad(f,p)   66.7% (±14.5) [52.3–100]   33.3% (±14.5) [0–47.7] </span></span>
<span><span class="co">#&gt; ad(f,l)   99% (±2.5) [86–100]        1% (±2.5) [0–14]       </span></span>
<span><span class="co">#&gt; ad(f,r)   66.3% (±17.2) [36.7–100]   33.7% (±17.2) [0–63.3]</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="plotting-outputs">Plotting outputs<a class="anchor" aria-label="anchor" href="#plotting-outputs"></a>
</h3>
<p>Several plots can be obtained from <code>narwsim</code> objects – all
are produced using the <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> method. By default, a call to
<code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> will generate maps of simulated whale tracks, with
labels indicating the locations of births (if relevant) and deaths
(color-coded by cause of mortality). The number of tracks shown is
limited to a maximum of <code>100</code> to improve legibility and
ensure that the code runs smoothly; we recommend against modifying this
default setting, unless absolutely necessary (i.e., fewer/more tracks
can be displayed by changing the value passed to the <code>nmax</code>
argument). Similarly to the other methods described in preceding
sections, the <code>cohortID</code> and <code>whaleID</code> arguments
can be used to display data for a particular cohort and/or individual of
interest. The <code>bymonth</code> and <code>bywhale</code> arguments
can also be set to <code>TRUE</code> to color-code track segments either
by calendar month or by individual, respectively. Lastly, when
<code>web</code> is set to <code>TRUE</code>, interactive web-based maps
are produced using the <a href="https://plotly.com/ggplot2/" class="external-link"><code>ggplotly</code> R package</a>.
These can be zoomed and panned using the mouse cursor to get a closer
look at specific areas of interest. The location (easting, northing) and
ID of each animal are then displayed on mouse hover.</p>
<p>Other maps/visualizations can be generated using the
<code>what</code> argument (see details below).</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">m</span>, cohortID <span class="op">=</span> <span class="fl">4</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span></span></code></pre></div>
<p><img src="narw_tracks.jpg"></p>
<table class="table">
<colgroup>
<col width="12%">
<col width="19%">
<col width="67%">
</colgroup>
<thead><tr class="header">
<th>Argument</th>
<th>Default value</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>obj</code></td>
<td><code>-</code></td>
<td>Input model object, as returned by <code><a href="../reference/narw.html">narw()</a></code>.</td>
</tr>
<tr class="even">
<td><code>what</code></td>
<td><code>"map"</code></td>
<td>Character string indicating which plots to return. Set to
<code>"map"</code> (default) to generate maps of simulated tracks,
<code>"prob"</code> to visualize how survival and body condition are
predicted to vary as a function of individual health, and
<code>"inits"</code> to check the initial locations of individuals in
each month at the start of the simulation.</td>
</tr>
<tr class="odd">
<td><code>whaleID</code></td>
<td><code>1:nsim</code></td>
<td>Positive integer or vector of integers indicating the individual(s)
for which data should be extracted. By default, the function plots
tracks for all <code>nsim</code> simulated animals.</td>
</tr>
<tr class="even">
<td><code>cohortID</code></td>
<td><code>1:6</code></td>
<td>Positive integer or vector of positive integers indicating which
cohorts should be considered. Defaults to all cohorts. Cohort
identifiers are listed in an object called <code>cohorts</code>.</td>
</tr>
<tr class="odd">
<td><code>web</code></td>
<td><code>FALSE</code></td>
<td>Logical. Whether to produce static maps (<code>FALSE</code>) or
interactive, web-based maps (<code>TRUE</code>).</td>
</tr>
<tr class="even">
<td><code>nmax</code></td>
<td><code>100</code></td>
<td>Positive integer. Maximum number of animals to plot. This argument
should be kept &lt; 100 to minimize memory usage and avoid lengthy run
times.</td>
</tr>
<tr class="odd">
<td><code>animate</code></td>
<td><code>FALSE</code></td>
<td>Logical indicating whether a video animation should be produced.
This feature is currently only in development and significantly
increases run times.</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3" data-link="Exporting data">
<h3 id="predicting-narw-abundance">Predicting NARW abundance<a class="anchor" aria-label="anchor" href="#predicting-narw-abundance"></a>
</h3>
<p>The <code><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict()</a></code> method uses a stochastic population model
to generate and summarize <code>n</code> replicate projections of right
whale abundance over a 35-year time horizon (from the current year).
Longer projections can be achieved by modifying the <code>yrs</code>
argument, which can either be specified as a desired number of years or
a target year for the end of the projection. At present, projections are
only made in the absence of offshore wind development activities under
baseline conditions. Future updates to the code will enable users to
compare predicted whale numbers across operational wind farm development
scenarios.</p>
<blockquote>
<p><strong>Note:</strong> <code><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict()</a></code> can only run if all
cohorts have been included in the call to <code><a href="../reference/narw.html">narw()</a></code>, i.e.,
when <code>cohortID = 1:6</code>.</p>
</blockquote>
<table class="table">
<colgroup>
<col width="15%">
<col width="15%">
<col width="69%">
</colgroup>
<thead><tr class="header">
<th>Argument</th>
<th>Default value</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>obj</code></td>
<td><code>-</code></td>
<td>Input model object, as returned by <code><a href="../reference/narw.html">narw()</a></code>.</td>
</tr>
<tr class="even">
<td><code>n</code></td>
<td><code>1000</code></td>
<td>Integer. Number of replicates projections.</td>
</tr>
<tr class="odd">
<td><code>yrs</code></td>
<td><code>35</code></td>
<td>Integer. Duration of the projections, specified either as a number
of years (from current), or a target end year.</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">narw.preds</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">m</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; Initializing ...</span></span>
<span><span class="co">#&gt; Setting up ...</span></span>
<span><span class="co">#&gt; Running projections ...</span></span>
<span><span class="co">#&gt; Final population size:</span></span>
<span><span class="co">#&gt; N = 0 (95% CI: 0–0)</span></span>
<span><span class="co">#&gt; Time elapsed: 00:00:00</span></span></code></pre>
<blockquote>
<p><strong>Note:</strong> <code><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict()</a></code> returns an object of
class <code>narwproj</code>, which contains several datasets and model
outputs in list format. Any call to <code><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict()</a></code> must
therefore be assigned to an R object, as shown below.</p>
</blockquote>
<p>Population trends can be visualized using the <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code>
command. When set to <code>TRUE</code>, the <code>cohort</code> argument
shows time series of abundance for each cohort.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">narw.preds</span><span class="op">)</span></span></code></pre></div>
<p><img src="narwind_files/figure-html/poptrends_all-1.png" width="700"></p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">narw.preds</span>, cohort <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="narwind_files/figure-html/poptrends_cohort-1.png" width="768"></p>
</div>
<div class="section level3">
<h3 id="exporting-data">Exporting data<a class="anchor" aria-label="anchor" href="#exporting-data"></a>
</h3>
<p>The <code><a href="https://rdrr.io/r/base/write.html" class="external-link">write()</a></code> method is the gateway for saving data on
disk. When calling <code><a href="https://rdrr.io/r/base/write.html" class="external-link">write()</a></code>, model outputs are exported as a
Microsoft Excel spreadsheet (.xlsx), stored in the current working
directory. <code><a href="https://rdrr.io/r/base/write.html" class="external-link">write()</a></code> can be used with both objects of class
<code>narwsim</code> and <code>narwproj</code>; in the former case, a
separate file will be produced for each cohort in
<code>cohortID</code>.</p>
<table class="table">
<colgroup>
<col width="12%">
<col width="12%">
<col width="12%">
<col width="63%">
</colgroup>
<thead><tr class="header">
<th>Object class</th>
<th>Argument</th>
<th>Default value</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>narwsim</code></td>
<td><code>obj</code></td>
<td><code>-</code></td>
<td>Input model object, as returned by <code><a href="../reference/narw.html">narw()</a></code>.</td>
</tr>
<tr class="even">
<td></td>
<td><code>whaleID</code></td>
<td><code>1:nsim</code></td>
<td>Positive integer indicating the individual(s) for which data should
be extracted. By default, the function plots tracks for all
<code>nsim</code> simulated animals.</td>
</tr>
<tr class="odd">
<td></td>
<td><code>cohortID</code></td>
<td><code>1:6</code></td>
<td>Positive integer or vector of positive integers indicating which
cohort(s) should be considered. Defaults to all cohorts.</td>
</tr>
<tr class="even">
<td></td>
<td><code>prefix</code></td>
<td><code>"narwsim"</code></td>
<td>Character string. Prefix used for naming output files.</td>
</tr>
<tr class="odd">
<td></td>
<td><code>overwrite</code></td>
<td><code>TRUE</code></td>
<td>Logical. If set to <code>TRUE</code> (the default), any file with
the same name will be overwritten.</td>
</tr>
<tr class="even">
<td><code>narwproj</code></td>
<td><code>obj</code></td>
<td><code>-</code></td>
<td>Input model object, as returned by <code><a href="../reference/narw.html">narw()</a></code>.</td>
</tr>
<tr class="odd">
<td></td>
<td><code>filename</code></td>
<td><code>"narwproj"</code></td>
<td>Character string. Name of the output file.</td>
</tr>
<tr class="even">
<td></td>
<td><code>overwrite</code></td>
<td><code>TRUE</code></td>
<td>Logical. If set to <code>TRUE</code> (the default), any file with
the same name will be overwritten.</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/write.html" class="external-link">write</a></span><span class="op">(</span><span class="va">m</span>, whaleID <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, cohortID <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/write.html" class="external-link">write</a></span><span class="op">(</span><span class="va">narw.preds</span>, filename <span class="op">=</span> <span class="st">"NARW_abundance"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="footnotes footnotes-end-of-document">
<hr>
<ol>
<li id="fn1"><p>Population Consequences of Multiple Stressors (PCoMS)<a href="#fnref1" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Phil J. Bouchet.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
