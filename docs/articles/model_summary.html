<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>4. Summary and diagnostics • narwind</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="4. Summary and diagnostics">
<meta property="og:description" content="narwind">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">narwind</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/narwind.html">Get started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/model_overview.html">1. Overview and workflow</a>
    </li>
    <li>
      <a href="../articles/scenarios.html">2. Defining scenarios</a>
    </li>
    <li>
      <a href="../articles/model_run.html">3. Running the model</a>
    </li>
    <li>
      <a href="../articles/model_summary.html">4. Summary and diagnostics</a>
    </li>
    <li>
      <a href="../articles/model_predictions.html">5. Model predictions</a>
    </li>
    <li>
      <a href="../articles/model_export.html">6. Exporting data</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="model_summary_files/font-awesome-5.13.0/js/script.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>4. Summary and diagnostics</h1>
                        <h4 data-toc-skip class="author">Phil Bouchet,
Enrico Pirotta, Catriona Harris, Len Thomas</h4>
            <address class="author_afil">
      Centre for Research into Ecological &amp; Environmental Modelling,
University of St Andrews<br><h4 data-toc-skip class="date">2024-04-30</h4>
      
      
      <div class="hidden name"><code>model_summary.Rmd</code></div>

    </address>
</div>

    
    
<a href="https://raw.githubusercontent.com/offshore-wind/narwind/0a45ae03f1938cd5396895b943b8615f28812669/vignettes/pdf/4%20Summary%20and%20diagnostics.pdf" class="external-link">
<button class="btn btn-primary"><i class="fa fa-file-pdf"></i> Download PDF</button>
</a>
<div class="section level2">
<h2 id="preamble">Preamble<a class="anchor" aria-label="anchor" href="#preamble"></a>
</h2>
<p>This tutorial demonstrates how to inspect and summarize outputs from
the agent-based model within the <code>narwind</code> R package.</p>
</div>
<div class="section level2">
<h2 id="viewing-data">Viewing data<a class="anchor" aria-label="anchor" href="#viewing-data"></a>
</h2>
<p>Outputs from the <code><a href="../reference/narw.html">narw()</a></code> simulator can be viewed in the R
console using the <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> method. <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> is
part of a group of generic R functions that can be applied to various R
objects and will behave differently depending on the type of object that
is passed to them. Other generic functions include <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code>,
<code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code>, or <code><a href="https://rdrr.io/r/base/write.html" class="external-link">write()</a></code> (among others) – these
are covered in later sections.</p>
<p><code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> can also be called ‘implicitly’, that is, by
simply typing the name of the relevant object in the R console and
pressing <code>[Enter]</code> on the keyboard. The default behavior for
objects returned by <code><a href="../reference/narw.html">narw()</a></code> is to give a tabular overview of
the data from the first 5 days of the simulation, and for the first
animal in each population cohort. For instance, to get a quick overview
of the outputs from the <code>baseline_model</code> created in the
previous tutorial, we can type:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">model_base</span></span></code></pre></div>
<p>Optional arguments allow users to override these default settings and
display data for specific days, animals, and/or cohorts, as needed. The
<code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> method has the following arguments:</p>
<table class="table">
<colgroup>
<col width="23%">
<col width="23%">
<col width="53%">
</colgroup>
<thead><tr class="header">
<th>Argument</th>
<th>Default value</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>obj</code></td>
<td><code>-</code></td>
<td>Input model object returned by <code><a href="../reference/narw.html">narw()</a></code>.</td>
</tr>
<tr class="even">
<td><code>rowID</code></td>
<td><code>1:5</code></td>
<td>Positive integer or vector of positive integers indicating which
days of the simulation should be displayed. Defaults to the first first
days.</td>
</tr>
<tr class="odd">
<td><code>whale</code></td>
<td><code>1</code></td>
<td>Positive integer indicating the individual for which data should be
extracted. Only the first individual is included by default.</td>
</tr>
<tr class="even">
<td><code>cohort</code></td>
<td><code>1:6</code></td>
<td>Positive integer or vector of positive integers indicating which
cohorts should be considered. Defaults to all cohorts. Cohort
identifiers are listed in an object called <code>cohorts</code>. Note
that calves are included with their mothers (i.e.,
<code>cohort = 5</code>).</td>
</tr>
</tbody>
</table>
<p>Given the above, the code below displays the first 5 days of the
simulation for the fourth adult male.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">model_base</span>, rowID <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, whale <span class="op">=</span> <span class="fl">4</span>, cohort <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; =========================================================================================</span></span>
<span><span class="co">#&gt; Adults (male) </span></span>
<span><span class="co">#&gt; =========================================================================================</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt; Locations </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;    whale day  date  easting northing region resid_m resid_sd pleave</span></span>
<span><span class="co">#&gt; 1:     4   1 01-10 740.5000 776.5000    GOM    20.4      1.1      0</span></span>
<span><span class="co">#&gt; 2:     4   2 02-10 738.0150 777.0969    GOM    20.4      1.1      0</span></span>
<span><span class="co">#&gt; 3:     4   3 03-10 740.6500 784.3279    GOM    20.4      1.1      0</span></span>
<span><span class="co">#&gt; 4:     4   4 04-10 741.8054 782.5409    GOM    20.4      1.1      0</span></span>
<span><span class="co">#&gt; 5:     4   5 05-10 741.6727 785.8434    GOM    20.4      1.1      0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt; Attributes </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt;    whale day cohort gsl seus alive      age        bc   length length_a</span></span>
<span><span class="co">#&gt; 1:     4   1      3   0    0     1 15.89359 0.3942573 13.34207 1362.755</span></span>
<span><span class="co">#&gt; 2:     4   2      3   0    0     1 15.89633 0.3944316 13.34221 1362.755</span></span>
<span><span class="co">#&gt; 3:     4   3      3   0    0     1 15.89907 0.3944270 13.34235 1362.755</span></span>
<span><span class="co">#&gt; 4:     4   4      3   0    0     1 15.90181 0.3945859 13.34248 1362.755</span></span>
<span><span class="co">#&gt; 5:     4   5      3   0    0     1 15.90455 0.3947831 13.34262 1362.755</span></span>
<span><span class="co">#&gt;    length_b length_c     mass leanmass  fatmass    mass_a   mass_b   mouth_r</span></span>
<span><span class="co">#&gt; 1:    -0.37    -0.18 28504.63 17266.47 11238.16 -4.834189 2.984353 0.1467477</span></span>
<span><span class="co">#&gt; 2:    -0.37    -0.18 28513.72 17267.01 11246.72 -4.834189 2.984353 0.1467477</span></span>
<span><span class="co">#&gt; 3:    -0.37    -0.18 28514.40 17267.55 11246.85 -4.834189 2.984353 0.1467477</span></span>
<span><span class="co">#&gt; 4:    -0.37    -0.18 28522.77 17268.08 11254.68 -4.834189 2.984353 0.1467477</span></span>
<span><span class="co">#&gt; 5:    -0.37    -0.18 28532.95 17268.62 11264.33 -4.834189 2.984353 0.1467477</span></span>
<span><span class="co">#&gt;    mouth_a  mouth_w abort starve died date_died p_surv</span></span>
<span><span class="co">#&gt; 1:    76.7 1.957917     0      0    0         0      1</span></span>
<span><span class="co">#&gt; 2:    76.7 1.957938     0      0    0         0      1</span></span>
<span><span class="co">#&gt; 3:    76.7 1.957958     0      0    0         0      1</span></span>
<span><span class="co">#&gt; 4:    76.7 1.957979     0      0    0         0      1</span></span>
<span><span class="co">#&gt; 5:    76.7 1.957999     0      0    0         0      1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt; Stressors </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;    whale day gear_risk is_entgl entgl_head entgl_sev entgl_d entgl_start</span></span>
<span><span class="co">#&gt; 1:     4   1         0        0          0         0       0           0</span></span>
<span><span class="co">#&gt; 2:     4   2         0        0          0         0       0           0</span></span>
<span><span class="co">#&gt; 3:     4   3         0        0          0         0       0           0</span></span>
<span><span class="co">#&gt; 4:     4   4         0        0          0         0       0           0</span></span>
<span><span class="co">#&gt; 5:     4   5         0        0          0         0       0           0</span></span>
<span><span class="co">#&gt;    entgl_end is_entgl_calf entgl_head_calf entgl_sev_calf entgl_d_calf</span></span>
<span><span class="co">#&gt; 1:         0             0               0              0            0</span></span>
<span><span class="co">#&gt; 2:         0             0               0              0            0</span></span>
<span><span class="co">#&gt; 3:         0             0               0              0            0</span></span>
<span><span class="co">#&gt; 4:         0             0               0              0            0</span></span>
<span><span class="co">#&gt; 5:         0             0               0              0            0</span></span>
<span><span class="co">#&gt;    entgl_start_calf entgl_end_calf strike_risk strike strike_calf noise_resp</span></span>
<span><span class="co">#&gt; 1:                0              0           0      0           0          0</span></span>
<span><span class="co">#&gt; 2:                0              0           0      0           0          0</span></span>
<span><span class="co">#&gt; 3:                0              0           0      0           0          0</span></span>
<span><span class="co">#&gt; 4:                0              0           0      0           0          0</span></span>
<span><span class="co">#&gt; 5:                0              0           0      0           0          0</span></span>
<span><span class="co">#&gt;    noise_lvl dB_thresh</span></span>
<span><span class="co">#&gt; 1:         0         0</span></span>
<span><span class="co">#&gt; 2:         0         0</span></span>
<span><span class="co">#&gt; 3:         0         0</span></span>
<span><span class="co">#&gt; 4:         0         0</span></span>
<span><span class="co">#&gt; 5:         0         0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt; Activity budgets </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;    whale day d_travel swimspeed      glide glide_feed glide_echelon  t_travel</span></span>
<span><span class="co">#&gt; 1:     4   1 2.555656 0.8316983 0.09532139  0.3179245             0 0.8535601</span></span>
<span><span class="co">#&gt; 2:     4   2 7.696048 1.1538667 0.09290994  0.5119930             0 1.8527192</span></span>
<span><span class="co">#&gt; 3:     4   3 2.127993 0.5633504 0.08656162  0.3917774             0 1.0492746</span></span>
<span><span class="co">#&gt; 4:     4   4 3.305147 1.0732973 0.09643285  0.3520231             0 0.8553981</span></span>
<span><span class="co">#&gt; 5:     4   5 3.663948 1.1947665 0.08523470  0.2785317             0 0.8518512</span></span>
<span><span class="co">#&gt;      t_feed t_rest_nurse</span></span>
<span><span class="co">#&gt; 1: 16.19956     6.946884</span></span>
<span><span class="co">#&gt; 2: 15.56950     6.577784</span></span>
<span><span class="co">#&gt; 3: 16.66407     6.286659</span></span>
<span><span class="co">#&gt; 4: 15.86037     7.284232</span></span>
<span><span class="co">#&gt; 5: 15.63789     7.510257</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt; Growth </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;    whale day delta_fat  EDlip EDpro lip_anab lip_catab perc_muscle perc_viscera</span></span>
<span><span class="co">#&gt; 1:     4   1  4.912263 39.539 23.64      0.8       0.8   0.5537975    0.2009494</span></span>
<span><span class="co">#&gt; 2:     4   2  8.559065 39.539 23.64      0.8       0.8   0.5537975    0.2009494</span></span>
<span><span class="co">#&gt; 3:     4   3  0.133245 39.539 23.64      0.8       0.8   0.5537975    0.2009494</span></span>
<span><span class="co">#&gt; 4:     4   4  7.833849 39.539 23.64      0.8       0.8   0.5537975    0.2009494</span></span>
<span><span class="co">#&gt; 5:     4   5  9.643540 39.539 23.64      0.8       0.8   0.5537975    0.2009494</span></span>
<span><span class="co">#&gt;    perc_bones</span></span>
<span><span class="co">#&gt; 1:  0.2452532</span></span>
<span><span class="co">#&gt; 2:  0.2452532</span></span>
<span><span class="co">#&gt; 3:  0.2452532</span></span>
<span><span class="co">#&gt; 4:  0.2452532</span></span>
<span><span class="co">#&gt; 5:  0.2452532</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt; Energy balance </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;    whale day     E_tot     E_in    E_out</span></span>
<span><span class="co">#&gt; 1:     4   1 242.78246 706.1029 463.3204</span></span>
<span><span class="co">#&gt; 2:     4   2 423.02108 940.1171 517.0961</span></span>
<span><span class="co">#&gt; 3:     4   3   6.58547 479.3556 472.7701</span></span>
<span><span class="co">#&gt; 4:     4   4 387.17821 869.3136 482.1354</span></span>
<span><span class="co">#&gt; 5:     4   5 476.61991 951.7746 475.1547</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt; Energy intake </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;    whale day feed preyconc   minprey     gape feedspeed captEff impedance</span></span>
<span><span class="co">#&gt; 1:     4   1    1 3.932587 0.4686015 2.521936 0.8316983 0.91575         0</span></span>
<span><span class="co">#&gt; 2:     4   2    1 3.932587 0.4686015 2.522014 1.1538667 0.91575         0</span></span>
<span><span class="co">#&gt; 3:     4   3    1 3.847692 0.4686015 2.522092 0.5633504 0.91575         0</span></span>
<span><span class="co">#&gt; 4:     4   4    1 3.847692 0.4686015 2.522170 1.0732973 0.91575         0</span></span>
<span><span class="co">#&gt; 5:     4   5    1 3.847692 0.4686015 2.522249 1.1947665 0.91575         0</span></span>
<span><span class="co">#&gt;    feed_effort eta_lwrBC eta_upprBC  targetBC    cop_mass     cop_kJ digestEff</span></span>
<span><span class="co">#&gt; 1:   0.3365457        10         30 0.3674076 0.001670151 0.02391922      0.94</span></span>
<span><span class="co">#&gt; 2:   0.3360340        10         30 0.3674076 0.001670151 0.02391922      0.94</span></span>
<span><span class="co">#&gt; 3:   0.3351153        10         30 0.3674076 0.001670151 0.02391922      0.94</span></span>
<span><span class="co">#&gt; 4:   0.3351396        10         30 0.3674076 0.001670151 0.02391922      0.94</span></span>
<span><span class="co">#&gt; 5:   0.3343043        10         30 0.3674076 0.001670151 0.02391922      0.94</span></span>
<span><span class="co">#&gt;    metabEff_juv metabEff_ad       E_cop</span></span>
<span><span class="co">#&gt; 1:    0.7403977       0.875 0.004762958</span></span>
<span><span class="co">#&gt; 2:    0.7403977       0.875 0.004762958</span></span>
<span><span class="co">#&gt; 3:    0.7403977       0.875 0.004762958</span></span>
<span><span class="co">#&gt; 4:    0.7403977       0.875 0.004762958</span></span>
<span><span class="co">#&gt; 5:    0.7403977       0.875 0.004762958</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt; Energetic costs </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;    whale day    E_out      rmr       LC scalar_LC     stroke stroke_feed</span></span>
<span><span class="co">#&gt; 1:     4   1 463.3204 442.0439 13.12947         1 0.07724737   0.1687092</span></span>
<span><span class="co">#&gt; 2:     4   2 517.0961 442.0532 66.89951         1 0.13665451   0.1674238</span></span>
<span><span class="co">#&gt; 3:     4   3 472.7701 442.0626 22.56799         1 0.15996304   0.1622918</span></span>
<span><span class="co">#&gt; 4:     4   4 482.1354 442.0720 31.92769         1 0.15489603   0.1666031</span></span>
<span><span class="co">#&gt; 5:     4   5 475.1547 442.0813 24.94139         1 0.10646713   0.1722184</span></span>
<span><span class="co">#&gt;    E_growth</span></span>
<span><span class="co">#&gt; 1: 8.147064</span></span>
<span><span class="co">#&gt; 2: 8.143301</span></span>
<span><span class="co">#&gt; 3: 8.139539</span></span>
<span><span class="co">#&gt; 4: 8.135780</span></span>
<span><span class="co">#&gt; 5: 8.132021</span></span></code></pre></div>
<blockquote>
<p><strong>Note 4.1:</strong> The <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> method is only
used for viewing data inside the R console. To export / save data on
disk, use the <code>export()</code> method (see relevant tutorial).</p>
</blockquote>
</div>
<div class="section level2">
<h2 id="model-summary-and-diagnostics">Model summary and diagnostics<a class="anchor" aria-label="anchor" href="#model-summary-and-diagnostics"></a>
</h2>
<p>The <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> method provides a range of diagnostics
that are helpful for assessing whether simulated whale behavior aligns
with biological expectations. These relate to individual (1) health, (2)
movements, (3) habitat use, (4) behavior (i.e., activity budgets), (5)
stressor exposure, and (6) energy intake vs. expenditure (see Table 1
below).</p>
<p>The function takes the following arguments:</p>
<table class="table">
<colgroup>
<col width="23%">
<col width="23%">
<col width="53%">
</colgroup>
<thead><tr class="header">
<th>Argument</th>
<th>Default value</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>obj</code></td>
<td><code>-</code></td>
<td>Model object of class <code>narwsim</code>, as returned by
<code><a href="../reference/narw.html">narw()</a></code>.</td>
</tr>
<tr class="even">
<td><code>what</code></td>
<td><code>"all"</code></td>
<td>Character string indicating which component(s) of the summary to
display. Can be one of: <code>"health"</code>, <code>"movements"</code>,
<code>"habitat"</code>, <code>"behavior"</code>,
<code>"stressors"</code>, <code>"strike"</code>, <code>"gear"</code>,
<code>"noise"</code>, <code>"other"</code>, or <code>"energy"</code>.
See below for details. Defaults to <code>"all"</code> for a complete
summary.</td>
</tr>
<tr class="odd">
<td><code>relative</code></td>
<td><code>FALSE</code></td>
<td>Logical. If <code>TRUE</code>, percentages are calculated relative
to class totals. Defaults to <code>FALSE</code>.</td>
</tr>
<tr class="even">
<td><code>quintile</code></td>
<td><code>TRUE</code></td>
<td>Logical. If <code>TRUE</code>, body condition plots (under the
“health” section) are based on quintiles of the data.</td>
</tr>
<tr class="odd">
<td><code>plot</code></td>
<td><code>FALSE</code></td>
<td>Logical. If <code>TRUE</code>, plots are produced in addition to a
text-based summary.</td>
</tr>
<tr class="even">
<td><code>whale</code></td>
<td><code>1:nsim</code></td>
<td>Positive integer indicating the individual for which data should be
extracted. By default, considers all <code>nsim</code> individuals.</td>
</tr>
<tr class="odd">
<td><code>cohort</code></td>
<td><code>1:6</code></td>
<td>Positive integer or vector of positive integers indicating which
cohorts should be considered. Defaults to all cohorts. Cohort
identifiers are listed in an object called <code>cohorts</code>.</td>
</tr>
</tbody>
</table>
<p>As summaries tend to be long and dense, the <code>what</code>
argument can be used to select subsets of data to show in the R console.
The table below lists the information returned for each possible value
of <code>what</code>.</p>
<table class="table">
<colgroup>
<col width="20%">
<col width="20%">
<col width="20%">
<col width="37%">
</colgroup>
<thead><tr class="header">
<th>Category</th>
<th>Component</th>
<th>Plots</th>
<th>Details</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>health</code></td>
<td>Mortality</td>
<td>No</td>
<td>Whale mortality by region, cohort, and cause of death (i.e.,
starvation vs. vessel strike) .</td>
</tr>
<tr class="even">
<td></td>
<td>Pregnancy</td>
<td>No</td>
<td>Observed abortion rate in females that started the simulation in a
pregnant state.</td>
</tr>
<tr class="odd">
<td></td>
<td>Births</td>
<td>No</td>
<td>Mean (range) date of calving events.</td>
</tr>
<tr class="even">
<td></td>
<td>Body condition</td>
<td>Yes</td>
<td>Time series of individual body condition (expressed as relative fat
mass), by cohort.</td>
</tr>
<tr class="odd">
<td></td>
<td>Growth</td>
<td>Yes</td>
<td>Growth curves, by cohort.</td>
</tr>
<tr class="even">
<td><code>movements</code></td>
<td>Locations</td>
<td>No</td>
<td>Breakdown of (daily) locations by cohort, region, and country (U.S.
vs. Canada).</td>
</tr>
<tr class="odd">
<td></td>
<td>Destinations</td>
<td>No</td>
<td>Comparison of assigned vs. realized migratory destinations both
within and across cohorts. Migratory endpoints include the Southeastern
United States calving grounds (SEUS) and Canadian feeding grounds in the
Gulf of St Lawrence (GSL).</td>
</tr>
<tr class="even">
<td></td>
<td>Step lengths</td>
<td>Yes</td>
<td>Summary of daily movements, reported as mean (± SD, range) distances
traveled per day, by cohort. Distributions of daily step lengths are
also visualized by region and as a whole.</td>
</tr>
<tr class="odd">
<td></td>
<td>Migration</td>
<td>No</td>
<td>Summary of yearly movements, reported as mean (± SD, range) total
distance covered over the time span of the simulation, by cohort.</td>
</tr>
<tr class="even">
<td><code>habitat</code></td>
<td>Occupancy</td>
<td>No</td>
<td>Cohort-specific summary of the numbers of animals visiting each
region, and the number of regions visited by animals.</td>
</tr>
<tr class="odd">
<td></td>
<td>Residency</td>
<td>No</td>
<td>Breakdown of days spent in each.</td>
</tr>
<tr class="even">
<td><code>behavior</code></td>
<td>Activity budgets</td>
<td>Yes</td>
<td>Mean (± SD) hours spent engaging in each of the four categories of
behavior considered in the model (i.e., traveling, resting, nursing, and
feeding), by region. A visual breakdown by region is also produced for
each category of behavior.</td>
</tr>
<tr class="odd">
<td><code>stressors</code></td>
<td>Entanglements (<code>gear</code>)</td>
<td>Yes</td>
<td>Various summaries by cohort, including: entanglement rates,
durations, severities, probabilities, and attachment sites along the
body.</td>
</tr>
<tr class="even">
<td></td>
<td>Vessel strikes (<code>strike</code>)</td>
<td>No</td>
<td>Strike rates by cohort.</td>
</tr>
<tr class="odd">
<td></td>
<td>Noise (<code>noise</code>)</td>
<td>No</td>
<td>Summary of mean (± SD, range) noise levels encountered, behavioral
response thresholds, and numbers of days during which a response to
pile-driving was observed.</td>
</tr>
<tr class="even">
<td></td>
<td>Other sources of mortality (<code>other</code>)</td>
<td>No</td>
<td>Summary of mortality from other sources, by cohort.</td>
</tr>
<tr class="odd">
<td>Energy</td>
<td>Energy budget</td>
<td>No</td>
<td>Mean (± SD, range) daily energy intake and expenditure (expressed in
MJ/day), by cohort. Also reported are the mean (± SD, range) % time
individuals are in energetic deficit (energy balance &lt; 0) or surplus
(energy balance &gt; 0).</td>
</tr>
</tbody>
</table>
<p>Similarly, the <code>cohort</code> argument can be used to only
display data for specific population cohorts. This works based on a
unique cohort ID number, which is an integer between 1 and 6. A list of
cohort IDs is stored in the left-most column of an object called
<code>cohorts</code>, as shown below:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cohorts</span></span>
<span><span class="co">#&gt;    id                       name     class     abb  colour</span></span>
<span><span class="co">#&gt; 1:  0      Calves (male, female)    Calves  c(m,f)   black</span></span>
<span><span class="co">#&gt; 2:  1           Juveniles (male) Juveniles  jv(ml) #104E8B</span></span>
<span><span class="co">#&gt; 3:  2         Juveniles (female) Juveniles jv(fml) #F69554</span></span>
<span><span class="co">#&gt; 4:  3              Adults (male)    Adults  ad(ml) #22BA9C</span></span>
<span><span class="co">#&gt; 5:  4  Adults (female, pregnant)    Adults ad(f,p) #84375A</span></span>
<span><span class="co">#&gt; 6:  5 Adults (female, lactating)    Adults ad(f,l) #EEB422</span></span>
<span><span class="co">#&gt; 7:  6   Adults (female, resting)    Adults ad(f,r) #942F33</span></span></code></pre></div>
<p>Based on this, the code below prints a complete summary (all
categories of data listed in the above table) for the cohorts of
lactating (ID = 5) females:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Summary for adult females only</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">model_base</span>, cohort <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span><span class="co">#&gt; -------------------------------------------------------------</span></span>
<span><span class="co">#&gt; -------------------------------------------------------------</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;      NORTH ATLANTIC RIGHT WHALE (Eubalaena glacialis)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;              *** PCoMS MODEL SUMMARY ***</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; -------------------------------------------------------------</span></span>
<span><span class="co">#&gt; -------------------------------------------------------------</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; BOF: Bay of Fundy</span></span>
<span><span class="co">#&gt; CCB: Cape Cod Bay</span></span>
<span><span class="co">#&gt; CST: Cabot Strait</span></span>
<span><span class="co">#&gt; GMAN: Grand Manan Basin</span></span>
<span><span class="co">#&gt; GOM: Gulf of Maine and Georges Bank</span></span>
<span><span class="co">#&gt; GSL: Gulf of St Lawrence</span></span>
<span><span class="co">#&gt; MIDA: Mid-Atlantic</span></span>
<span><span class="co">#&gt; SCOS: Scotian Shelf</span></span>
<span><span class="co">#&gt; SEUS: Southeastern United States</span></span>
<span><span class="co">#&gt; SNE: Southern New England</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; =============================================================</span></span>
<span><span class="co">#&gt; SIMULATIONS</span></span>
<span><span class="co">#&gt; =============================================================</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; No. animals: 1,000 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Cohort(s)</span></span>
<span><span class="co">#&gt; ----------</span></span>
<span><span class="co">#&gt; c(m,f): Calves (male, female)</span></span>
<span><span class="co">#&gt; ad(f,l): Adults (female, lactating)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Simulation start: October </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; =============================================================</span></span>
<span><span class="co">#&gt; HEALTH</span></span>
<span><span class="co">#&gt; =============================================================</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; +++++++++++ Mortality +++++++++++</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; cohort                       alive         dead        </span></span>
<span><span class="co">#&gt; ---------------------------  ------------  ------------</span></span>
<span><span class="co">#&gt; Adults (female, lactating)   92.1% (921)   7.9%  (79)  </span></span>
<span><span class="co">#&gt; Calves (male, female)        83.0% (830)   17.0% (170) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; +++++++++++ Mortality (by source) +++++++++++</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; cohort    cause_death        N         </span></span>
<span><span class="co">#&gt; --------  -----------------  ----------</span></span>
<span><span class="co">#&gt; ad(f,l)   starve             3.9% (39) </span></span>
<span><span class="co">#&gt; ad(f,l)   strike             2.0% (20) </span></span>
<span><span class="co">#&gt; ad(f,l)   natural            2.0% (20) </span></span>
<span><span class="co">#&gt; c(m,f)    starve             6.9% (69) </span></span>
<span><span class="co">#&gt; c(m,f)    natural            2.9% (29) </span></span>
<span><span class="co">#&gt; c(m,f)    starve (female)    2.5% (25) </span></span>
<span><span class="co">#&gt; c(m,f)    natural (female)   1.9% (19) </span></span>
<span><span class="co">#&gt; c(m,f)    strike (female)    1.8% (18) </span></span>
<span><span class="co">#&gt; c(m,f)    strike             1.0% (10) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; +++++++++++ Mortality (by region) +++++++++++</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; region   cause_death   ad(f,l)     c(m,f)    </span></span>
<span><span class="co">#&gt; -------  ------------  ----------  ----------</span></span>
<span><span class="co">#&gt; CST      natural       0.1%  (1)   0.1%  (1) </span></span>
<span><span class="co">#&gt; GOM      natural       0.6%  (6)   0.8%  (8) </span></span>
<span><span class="co">#&gt; GSL      natural       0.3%  (3)   0.3%  (3) </span></span>
<span><span class="co">#&gt; MIDA     natural       0.1%  (1)   0.1%  (1) </span></span>
<span><span class="co">#&gt; SCOS     natural       0.2%  (2)   0.1%  (1) </span></span>
<span><span class="co">#&gt; SEUS     natural       0.4%  (4)   0.9%  (9) </span></span>
<span><span class="co">#&gt; SNE      natural       0.3%  (3)   0.6%  (6) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; region   cause_death        ad(f,l)     c(m,f)    </span></span>
<span><span class="co">#&gt; -------  -----------------  ----------  ----------</span></span>
<span><span class="co">#&gt; CST      natural (female)   0.0%  (0)   0.1%  (1) </span></span>
<span><span class="co">#&gt; GOM      natural (female)   0.0%  (0)   0.6%  (6) </span></span>
<span><span class="co">#&gt; GSL      natural (female)   0.0%  (0)   0.3%  (3) </span></span>
<span><span class="co">#&gt; MIDA     natural (female)   0.0%  (0)   0.1%  (1) </span></span>
<span><span class="co">#&gt; SCOS     natural (female)   0.0%  (0)   0.2%  (2) </span></span>
<span><span class="co">#&gt; SEUS     natural (female)   0.0%  (0)   0.4%  (4) </span></span>
<span><span class="co">#&gt; SNE      natural (female)   0.0%  (0)   0.2%  (2) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; region   cause_death   ad(f,l)     c(m,f)    </span></span>
<span><span class="co">#&gt; -------  ------------  ----------  ----------</span></span>
<span><span class="co">#&gt; CCB      starve        0.1%  (1)   0.0%  (0) </span></span>
<span><span class="co">#&gt; CST      starve        1.0% (10)   1.0% (10) </span></span>
<span><span class="co">#&gt; GOM      starve        0.5%  (5)   2.1% (21) </span></span>
<span><span class="co">#&gt; GSL      starve        0.3%  (3)   0.6%  (6) </span></span>
<span><span class="co">#&gt; MIDA     starve        0.0%  (0)   0.1%  (1) </span></span>
<span><span class="co">#&gt; SCOS     starve        1.0% (10)   2.6% (26) </span></span>
<span><span class="co">#&gt; SNE      starve        1.0% (10)   0.5%  (5) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; region   cause_death       ad(f,l)     c(m,f)    </span></span>
<span><span class="co">#&gt; -------  ----------------  ----------  ----------</span></span>
<span><span class="co">#&gt; CST      starve (female)   0.0%  (0)   0.4%  (4) </span></span>
<span><span class="co">#&gt; GOM      starve (female)   0.0%  (0)   0.5%  (5) </span></span>
<span><span class="co">#&gt; SCOS     starve (female)   0.0%  (0)   0.9%  (9) </span></span>
<span><span class="co">#&gt; SNE      starve (female)   0.0%  (0)   0.7%  (7) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; region   cause_death   ad(f,l)     c(m,f)    </span></span>
<span><span class="co">#&gt; -------  ------------  ----------  ----------</span></span>
<span><span class="co">#&gt; CST      strike        0.1%  (1)   0.0%  (0) </span></span>
<span><span class="co">#&gt; GOM      strike        0.2%  (2)   0.1%  (1) </span></span>
<span><span class="co">#&gt; GSL      strike        0.1%  (1)   0.2%  (2) </span></span>
<span><span class="co">#&gt; MIDA     strike        0.4%  (4)   0.1%  (1) </span></span>
<span><span class="co">#&gt; SEUS     strike        0.8%  (8)   0.3%  (3) </span></span>
<span><span class="co">#&gt; SNE      strike        0.4%  (4)   0.3%  (3) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; region   cause_death       ad(f,l)     c(m,f)    </span></span>
<span><span class="co">#&gt; -------  ----------------  ----------  ----------</span></span>
<span><span class="co">#&gt; CST      strike (female)   0.0%  (0)   0.1%  (1) </span></span>
<span><span class="co">#&gt; GOM      strike (female)   0.0%  (0)   0.2%  (2) </span></span>
<span><span class="co">#&gt; GSL      strike (female)   0.0%  (0)   0.1%  (1) </span></span>
<span><span class="co">#&gt; MIDA     strike (female)   0.0%  (0)   0.4%  (4) </span></span>
<span><span class="co">#&gt; SEUS     strike (female)   0.0%  (0)   0.8%  (8) </span></span>
<span><span class="co">#&gt; SNE      strike (female)   0.0%  (0)   0.2%  (2) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; +++++++++++ Births +++++++++++</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; No. births: 1000 (100%)</span></span>
<span><span class="co">#&gt; DOB: 1 Jan</span></span></code></pre></div>
<p><img src="model_summary_files/figure-html/model_summary-1.png" width="700"></p>
<pre><code><span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; =============================================================</span></span>
<span><span class="co">#&gt; MOVEMENTS (km)</span></span>
<span><span class="co">#&gt; =============================================================</span></span></code></pre>
<p><img src="model_summary_files/figure-html/model_summary-2.png" width="700"></p>
<pre><code><span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; +++++++++++ Migratory destinations (by cohort) +++++++++++</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; cohort    SEUS   reach_not   reach         </span></span>
<span><span class="co">#&gt; --------  -----  ----------  --------------</span></span>
<span><span class="co">#&gt; ad(f,l)   0      0.0% (0)    94.6%  (946)  </span></span>
<span><span class="co">#&gt; ad(f,l)   1      0.0% (0)    100.0% (1000) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; cohort    GSL   reach_not       reach       </span></span>
<span><span class="co">#&gt; --------  ----  --------------  ------------</span></span>
<span><span class="co">#&gt; ad(f,l)   0     105.1% (1051)   13.6% (136) </span></span>
<span><span class="co">#&gt; ad(f,l)   1     4.8%   (48)     71.1% (711) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; +++++++++++ Migratory destinations (all individuals) +++++++++++</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; SEUS   reach_not   reach         </span></span>
<span><span class="co">#&gt; -----  ----------  --------------</span></span>
<span><span class="co">#&gt; 0      0.0% (0)    94.6%  (946)  </span></span>
<span><span class="co">#&gt; 1      0.0% (0)    100.0% (1000) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; GSL   reach_not       reach       </span></span>
<span><span class="co">#&gt; ----  --------------  ------------</span></span>
<span><span class="co">#&gt; 0     105.1% (1051)   13.6% (136) </span></span>
<span><span class="co">#&gt; 1     4.8%   (48)     71.1% (711) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; +++++++++++ Step lengths and migration distances +++++++++++</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; cohort    step                     migration                     </span></span>
<span><span class="co">#&gt; --------  -----------------------  ------------------------------</span></span>
<span><span class="co">#&gt; ad(f,l)   18.9 (±20.9) [0–174.7]   8,521 (±1,065) [1,684–12,424] </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; =============================================================</span></span>
<span><span class="co">#&gt; HABITAT USE</span></span>
<span><span class="co">#&gt; =============================================================</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; region   ad(f,l)        </span></span>
<span><span class="co">#&gt; -------  ---------------</span></span>
<span><span class="co">#&gt; BOF      0.1%    (382)  </span></span>
<span><span class="co">#&gt; CCB      0.1%    (231)  </span></span>
<span><span class="co">#&gt; CST      4.7%  (20741)  </span></span>
<span><span class="co">#&gt; GMAN     0.8%   (3588)  </span></span>
<span><span class="co">#&gt; GOM      21.4%  (95008) </span></span>
<span><span class="co">#&gt; GSL      9.3%  (41381)  </span></span>
<span><span class="co">#&gt; MIDA     8.5%  (37839)  </span></span>
<span><span class="co">#&gt; SCOS     7.4%  (33052)  </span></span>
<span><span class="co">#&gt; SEUS     23.6% (104960) </span></span>
<span><span class="co">#&gt; SNE      24.1% (106925) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; country   ad(f,l)        </span></span>
<span><span class="co">#&gt; --------  ---------------</span></span>
<span><span class="co">#&gt; Canada    22.3%  (99144) </span></span>
<span><span class="co">#&gt; U.S.      77.7% (344963) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; +++++++++++ Number of animals visiting each region (N = 1000) +++++++++++</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; region   ad(f,l)     </span></span>
<span><span class="co">#&gt; -------  ------------</span></span>
<span><span class="co">#&gt; BOF      2.8% (28)   </span></span>
<span><span class="co">#&gt; CCB      0.8% (8)    </span></span>
<span><span class="co">#&gt; CST      55.2% (552) </span></span>
<span><span class="co">#&gt; GMAN     12.7% (127) </span></span>
<span><span class="co">#&gt; GOM      98.2% (982) </span></span>
<span><span class="co">#&gt; GSL      42.5% (425) </span></span>
<span><span class="co">#&gt; MIDA     100% (1000) </span></span>
<span><span class="co">#&gt; SCOS     94.7% (947) </span></span>
<span><span class="co">#&gt; SEUS     100% (1000) </span></span>
<span><span class="co">#&gt; SNE      100% (1000) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; +++++++++++ Days spent in each region +++++++++++</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; region   ad(f,l)                </span></span>
<span><span class="co">#&gt; -------  -----------------------</span></span>
<span><span class="co">#&gt; BOF      13.6 (±11.9) [1–63]    </span></span>
<span><span class="co">#&gt; CCB      28.9 (±43.2) [1–111]   </span></span>
<span><span class="co">#&gt; CST      37.6 (±15.5) [1–143]   </span></span>
<span><span class="co">#&gt; GMAN     28.3 (±19.1) [1–95]    </span></span>
<span><span class="co">#&gt; GOM      96.7 (±50.7) [3–237]   </span></span>
<span><span class="co">#&gt; GSL      97.4 (±41.6) [1–195]   </span></span>
<span><span class="co">#&gt; MIDA     37.8 (±10.5) [13–128]  </span></span>
<span><span class="co">#&gt; SCOS     34.9 (±19.5) [1–109]   </span></span>
<span><span class="co">#&gt; SEUS     105.6 (±14.6) [66–150] </span></span>
<span><span class="co">#&gt; SNE      106.9 (±36.3) [29–315] </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; +++++++++++ Total number of regions visited +++++++++++</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  No.regions  ad(f,l)     </span></span>
<span><span class="co">#&gt; -----------  ------------</span></span>
<span><span class="co">#&gt;           3  1.8%  (18)  </span></span>
<span><span class="co">#&gt;           4  3.3%  (33)  </span></span>
<span><span class="co">#&gt;           5  30.1% (301) </span></span>
<span><span class="co">#&gt;           6  17.5% (175) </span></span>
<span><span class="co">#&gt;           7  45.8% (458) </span></span>
<span><span class="co">#&gt;           8  1.3%  (13)  </span></span>
<span><span class="co">#&gt;           9  0.2%   (2)  </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; =============================================================</span></span>
<span><span class="co">#&gt; ACTIVITY BUDGETS</span></span>
<span><span class="co">#&gt; =============================================================</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; +++++++++++  Adults (female, lactating)  +++++++++++</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; region   travel (hrs)    rest/nurse (hrs)   feed (hrs)    </span></span>
<span><span class="co">#&gt; -------  --------------  -----------------  --------------</span></span>
<span><span class="co">#&gt; SNE      4.69 (±4.05)    12.42 (±6.89)      16.12 (±0.63) </span></span>
<span><span class="co">#&gt; MIDA     15.5 (±6.03)    7.67 (±6.15)       7.81 (±5.54)  </span></span>
<span><span class="co">#&gt; SEUS     11.6 (±5.8)     12.4 (±5.8)        0 (± 0)       </span></span>
<span><span class="co">#&gt; GOM      3.29 (±2.36)    6.5 (±4.58)        16.11 (±0.63) </span></span>
<span><span class="co">#&gt; SCOS     14.33 (±6.48)   1.3 (±3.22)        9 (±5.6)      </span></span>
<span><span class="co">#&gt; CST      3.19 (±2.35)    7.31 (±5.56)       16.11 (±0.65) </span></span>
<span><span class="co">#&gt; GSL      2.69 (±1.57)    5.76 (±3.39)       16.12 (±0.64) </span></span>
<span><span class="co">#&gt; GMAN     2.8 (±2.36)     9.21 (±7.02)       16.1 (±0.61)  </span></span>
<span><span class="co">#&gt; BOF      2.66 (±1.31)    5.34 (±1.93)       16.13 (±0.63) </span></span>
<span><span class="co">#&gt; CCB      1.82 (±2.24)    19.13 (±6.84)      16.05 (±0.66)</span></span></code></pre>
<p><img src="model_summary_files/figure-html/model_summary-3.png" width="700"></p>
<pre><code><span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; =============================================================</span></span>
<span><span class="co">#&gt; STRESSORS</span></span>
<span><span class="co">#&gt; =============================================================</span></span></code></pre>
<p><img src="model_summary_files/figure-html/model_summary-4.png" width="700"></p>
<pre><code><span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; +++++++++++ Entanglements +++++++++++</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; entangled   rate         </span></span>
<span><span class="co">#&gt; ----------  -------------</span></span>
<span><span class="co">#&gt; no          90.1% (1802) </span></span>
<span><span class="co">#&gt; yes         9.9% (198)   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; position   rate        </span></span>
<span><span class="co">#&gt; ---------  ------------</span></span>
<span><span class="co">#&gt; body       55.6% (110) </span></span>
<span><span class="co">#&gt; head       43.4% (86)  </span></span>
<span><span class="co">#&gt; head       1% (2)      </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; cohort    not entangled   entangled   </span></span>
<span><span class="co">#&gt; --------  --------------  ------------</span></span>
<span><span class="co">#&gt; ad(f,l)   89.8% (898)     10.2% (102) </span></span>
<span><span class="co">#&gt; c(m,f)    90.4% (904)     9.6%  (96)  </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; cohort    No. events per animal   p(entangled)         </span></span>
<span><span class="co">#&gt; --------  ----------------------  ---------------------</span></span>
<span><span class="co">#&gt; ad(f,l)   1.04 (±0.2) [1–2]       0 (±0.002) [0–0.272] </span></span>
<span><span class="co">#&gt; c(m,f)    1.03 (±0.18) [1–2]      NA                   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; cohort    minor       moderate    severe   </span></span>
<span><span class="co">#&gt; --------  ----------  ----------  ---------</span></span>
<span><span class="co">#&gt; ad(f,l)   8.3% (83)   1.4% (14)   0.6% (6) </span></span>
<span><span class="co">#&gt; c(m,f)    3.0% (30)   6.6% (66)   0.0% (0) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; cohort    minor (days)       moderate (days)    severe (days)    </span></span>
<span><span class="co">#&gt; --------  -----------------  -----------------  -----------------</span></span>
<span><span class="co">#&gt; ad(f,l)   48 (±36) [1–190]   65 (±49) [8–166]   60 (±54) [5–137] </span></span>
<span><span class="co">#&gt; c(m,f)    56 (±50) [1–186]   64 (±43) [1–180]   0 (±0) [0–0]     </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; +++++++++++ Vessel strikes +++++++++++</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; strike   rate          </span></span>
<span><span class="co">#&gt; -------  --------------</span></span>
<span><span class="co">#&gt; no       197.0% (1970) </span></span>
<span><span class="co">#&gt; yes      3.0% (30)     </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; cohort    not struck    struck    </span></span>
<span><span class="co">#&gt; --------  ------------  ----------</span></span>
<span><span class="co">#&gt; ad(f,l)   98.0% (980)   2.0% (20) </span></span>
<span><span class="co">#&gt; c(m,f)    99.0% (990)   1.0% (10) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; cohort    p(strike)                         </span></span>
<span><span class="co">#&gt; --------  ----------------------------------</span></span>
<span><span class="co">#&gt; ad(f,l)   2.88e-05 (±7.1e-05) [0–0.0037253] </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; +++++++++++ Other sources of mortality +++++++++++</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; mortality   rate         </span></span>
<span><span class="co">#&gt; ----------  -------------</span></span>
<span><span class="co">#&gt; alive       97.5% (1950) </span></span>
<span><span class="co">#&gt; dead        2.5% (50)    </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; cohort    alive         dead      </span></span>
<span><span class="co">#&gt; --------  ------------  ----------</span></span>
<span><span class="co">#&gt; ad(f,l)   98.0% (980)   2.0% (20) </span></span>
<span><span class="co">#&gt; c(m,f)    97.0% (970)   3.0% (30) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; +++++++++++ Pile-driving noise +++++++++++</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; cohort    noise level               response threshold        response   Duration (days) </span></span>
<span><span class="co">#&gt; --------  ------------------------  ------------------------  ---------  ----------------</span></span>
<span><span class="co">#&gt; ad(f,l)   63.427 (±32.422) [0–80]   119.4 (±64.3) [0–199.9]   0.0% (0)   0 (±0) [0–0]    </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; =============================================================</span></span>
<span><span class="co">#&gt; ENERGY BUDGETS (MJ per day) </span></span>
<span><span class="co">#&gt; =============================================================</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; cohort    Energy_intake                   Energy_expenditure               </span></span>
<span><span class="co">#&gt; --------  ------------------------------  ---------------------------------</span></span>
<span><span class="co">#&gt; ad(f,l)   734.1 (±1,340.7) [0–15,091.8]   1,938.8 (±813.6) [428.1–7,276.8] </span></span>
<span><span class="co">#&gt; c(m,f)    1,309.1 (±627.2) [0–3,381.6]    519.7 (±134.8) [241.9–2,046.9]   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; cohort    Deficit                   Surplus                 </span></span>
<span><span class="co">#&gt; --------  ------------------------  ------------------------</span></span>
<span><span class="co">#&gt; ad(f,l)   81.2% (±9.7) [54.9–100]   18.8% (±9.7) [0–45.1]   </span></span>
<span><span class="co">#&gt; c(m,f)    16.2% (±18) [0.3–61.3]    83.8% (±18) [38.7–99.7]</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="plotting-model-outputs">Plotting model outputs<a class="anchor" aria-label="anchor" href="#plotting-model-outputs"></a>
</h2>
<p>Several plots can be obtained from the outputs of the agent-based
model – all are produced using the <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> method, which
takes the following arguments:</p>
<table class="table">
<colgroup>
<col width="23%">
<col width="23%">
<col width="52%">
</colgroup>
<thead><tr class="header">
<th>Argument</th>
<th>Default value</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>obj</code></td>
<td><code>-</code></td>
<td>Model object of class <code>narwsim</code>, as returned by
<code><a href="../reference/narw.html">narw()</a></code>.</td>
</tr>
<tr class="even">
<td><code>what</code></td>
<td><code>"map"</code></td>
<td>Character string indicating which plots to return.</td>
</tr>
<tr class="odd">
<td><code>whale</code></td>
<td><code>1:nsim</code></td>
<td>Positive integer or vector of integers indicating the individual(s)
for which data should be extracted. By default, the function plots
tracks for all <code>nsim</code> simulated animals.</td>
</tr>
<tr class="even">
<td><code>cohort</code></td>
<td><code>1:6</code></td>
<td>Positive integer or vector of positive integers indicating which
cohorts should be considered. Defaults to all cohorts. Cohort
identifiers are listed in an object called <code>cohorts</code>.</td>
</tr>
<tr class="odd">
<td><code>web</code></td>
<td><code>FALSE</code></td>
<td>Logical. Whether to produce static maps (<code>FALSE</code>) or
interactive, web-based maps (<code>TRUE</code>).</td>
</tr>
<tr class="even">
<td><code>nL</code></td>
<td><code>100</code></td>
<td>Positive integer. Number of tracks to plot (when
<code>what = "map"</code>) or number of draws to plot from the Bayesian
posterior distribution of survival, health, and gestation models (when
<code>what = "pred"</code>). In the former case, this argument should be
kept &lt; 100 to minimize memory usage and avoid lengthy run times.</td>
</tr>
<tr class="odd">
<td><code>lwd</code></td>
<td><code>0.2</code></td>
<td>Numeric value. Thickness of the lines used to illustrate movement
tracks.</td>
</tr>
<tr class="even">
<td><code>alpha</code></td>
<td><code>0.7</code></td>
<td>Numeric value between 0 and 1. Level of transparency of the
tracks.</td>
</tr>
</tbody>
</table>
<div class="section level3">
<h3 id="plot-type">Plot type<a class="anchor" aria-label="anchor" href="#plot-type"></a>
</h3>
<p>By default, a call to <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> will automatically generate
maps of simulated whale tracks, with labels indicating the locations of
births (in green, if relevant) and deaths (color-coded by cause of
mortality). This behavior is controlled by the <code>what</code>
argument, which is preset to <code>"map"</code>. <code>what</code> may
also be set to <code>"pred"</code> to visualize how survival and body
condition are predicted to vary as a function of individual health (see
next Tutorial 5).</p>
</div>
<div class="section level3">
<h3 id="number-of-tracks">Number of tracks<a class="anchor" aria-label="anchor" href="#number-of-tracks"></a>
</h3>
<p>The number of tracks shown is limited to a maximum of
<code>nL = 100</code> to improve legibility and ensure that the code
runs smoothly. We recommend against modifying this default setting,
unless absolutely necessary (i.e., fewer/more tracks can be displayed by
decreasing or increasing value passed to the <code>nL</code>
argument).</p>
</div>
<div class="section level3">
<h3 id="subsets-of-data">Subsets of data<a class="anchor" aria-label="anchor" href="#subsets-of-data"></a>
</h3>
<p>Similarly to the other methods described in preceding sections, the
<code>cohort</code> and <code>whale</code> arguments can be used to
display data for particular cohorts and/or individuals of interest.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">model_base</span>, cohort <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning in plot.narwsim(model_base, cohort = 5): Plotting only the first 100</span></span>
<span><span class="co">#&gt; tracks</span></span></code></pre></div>
<p><img src="model_summary_files/figure-html/model_plot-1.png" width="768"></p>
</div>
<div class="section level3">
<h3 id="plot-aesthetics">Plot aesthetics<a class="anchor" aria-label="anchor" href="#plot-aesthetics"></a>
</h3>
<p>The thickness and transparency of track lines can be changed via the
<code>lwd</code> and <code>alpha</code> arguments, respectively. Lower
values of <code>lwd</code> produce thinner lines, and lower values of
<code>alpha</code> increase transparency.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">model_base</span>, cohort <span class="op">=</span> <span class="fl">5</span>, whale <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, alpha <span class="op">=</span> <span class="fl">0.2</span>, lwd <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<p><img src="model_summary_files/figure-html/model_plot02-1.png" width="768"></p>
</div>
<div class="section level3">
<h3 id="interactive-maps">Interactive maps<a class="anchor" aria-label="anchor" href="#interactive-maps"></a>
</h3>
<p>Lastly, when <code>web</code> is set to <code>TRUE</code>,
interactive web-based maps are produced using the <a href="https://plotly.com/ggplot2/" class="external-link"><code>ggplotly</code></a> R package.
These can be zoomed and panned using the mouse cursor to get a closer
look at specific areas of interest. The location (easting, northing) and
ID of each animal are displayed upon mouse hover.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by P. Bouchet, E. Pirotta, J. Hewitt, R. Schick, C. Harris, L. Thomas.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
