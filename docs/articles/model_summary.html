<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>4. Summary and diagnostics • narwind</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="4. Summary and diagnostics">
<meta property="og:description" content="narwind">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">narwind</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/narwind.html">Get started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/model_overview.html">1. Overview and workflow</a>
    </li>
    <li>
      <a href="../articles/scenarios.html">2. Defining scenarios</a>
    </li>
    <li>
      <a href="../articles/model_run.html">3. Running the model</a>
    </li>
    <li>
      <a href="../articles/model_summary.html">4. Summary and diagnostics</a>
    </li>
    <li>
      <a href="../articles/model_predictions.html">5. Model predictions</a>
    </li>
    <li>
      <a href="../articles/model_export.html">6. Exporting data</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="model_summary_files/font-awesome-5.13.0/js/script.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>4. Summary and diagnostics</h1>
                        <h4 data-toc-skip class="author">Phil Bouchet,
Enrico Pirotta, Catriona Harris, Len Thomas</h4>
            <address class="author_afil">
      Centre for Research into Ecological &amp; Environmental Modelling,
University of St Andrews<br><h4 data-toc-skip class="date">2024-05-24</h4>
      
      
      <div class="hidden name"><code>model_summary.Rmd</code></div>

    </address>
</div>

    
    
<a href="https://raw.githubusercontent.com/offshore-wind/narwind/98ad9169dd09dfad682d0dc4f5c32c9ad02aeef1/vignettes/pdf/4_Summary%20and%20diagnostics.pdf" class="external-link">
<button class="btn btn-primary"><i class="fa fa-file-pdf"></i> Download PDF</button>
</a>
<div class="section level2">
<h2 id="preamble">Preamble<a class="anchor" aria-label="anchor" href="#preamble"></a>
</h2>
<p>This tutorial demonstrates how to inspect and summarize outputs from
the agent-based model within the <code>narwind</code> R package.</p>
</div>
<div class="section level2">
<h2 id="viewing-data">Viewing data<a class="anchor" aria-label="anchor" href="#viewing-data"></a>
</h2>
<p>Outputs from the <code><a href="../reference/narw.html">narw()</a></code> simulator can be viewed in the R
console using the <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> method. <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> is
part of a group of generic R functions that can be applied to various R
objects and will behave differently depending on the type of object that
is passed to them. Other generic functions include <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code>,
<code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code>, or <code><a href="https://rdrr.io/r/base/write.html" class="external-link">write()</a></code> (among others) – these
are covered in later sections.</p>
<p><code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> can also be called ‘implicitly’, that is, by
simply typing the name of the relevant object in the R console and
pressing <code>[Enter]</code> on the keyboard. The default behavior for
objects returned by <code><a href="../reference/narw.html">narw()</a></code> is to give a tabular overview of
the data from the first 5 days of the simulation, and for the first
animal in each population cohort. For instance, to get a quick overview
of the outputs from the <code>baseline_model</code> created in the
previous tutorial, we can type:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">model_base</span></span></code></pre></div>
<p>Optional arguments allow users to override these default settings and
display data for specific days, animals, and/or cohorts, as needed. The
<code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> method has the following arguments:</p>
<table class="table">
<colgroup>
<col width="25%">
<col width="25%">
<col width="50%">
</colgroup>
<thead><tr class="header">
<th>Argument</th>
<th>Default value</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>obj</code></td>
<td><code>-</code></td>
<td>Input model object returned by <code><a href="../reference/narw.html">narw()</a></code>.</td>
</tr>
<tr class="even">
<td><code>rowID</code></td>
<td><code>1:5</code></td>
<td>Positive integer or vector of positive integers indicating which
days of the simulation should be displayed. Defaults to the first first
days.</td>
</tr>
<tr class="odd">
<td><code>whale</code></td>
<td><code>1</code></td>
<td>Positive integer indicating the individual for which data should be
extracted. Only the first individual is included by default.</td>
</tr>
<tr class="even">
<td><code>cohort</code></td>
<td><code>1:6</code></td>
<td>Positive integer or vector of positive integers indicating which
cohorts should be considered. Defaults to all cohorts. Cohort
identifiers are listed in an object called <code>cohorts</code>. Note
that calves are included with their mothers (i.e.,
<code>cohort = 5</code>).</td>
</tr>
</tbody>
</table>
<p>Given the above, the code below displays the first 5 days of the
simulation for the fourth adult male.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">model_base</span>, rowID <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, whale <span class="op">=</span> <span class="fl">4</span>, cohort <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; =========================================================================================</span></span>
<span><span class="co">#&gt; Adults (male) </span></span>
<span><span class="co">#&gt; =========================================================================================</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt; Locations </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;    whale day  date  easting northing region resid_m resid_sd pleave</span></span>
<span><span class="co">#&gt; 1:     4   1 01-10 685.5000 761.5000    SNE    20.4      1.1      0</span></span>
<span><span class="co">#&gt; 2:     4   2 02-10 684.7295 764.8358    SNE    20.4      1.1      0</span></span>
<span><span class="co">#&gt; 3:     4   3 03-10 687.2660 773.6351    SNE    20.4      1.1      0</span></span>
<span><span class="co">#&gt; 4:     4   4 04-10 683.5151 771.7780    SNE    20.4      1.1      0</span></span>
<span><span class="co">#&gt; 5:     4   5 05-10 689.2974 774.0483    SNE    20.4      1.1      0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt; Attributes </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt;    whale day cohort gsl seus alive      age        bc   length length_a</span></span>
<span><span class="co">#&gt; 1:     4   1      3   0    0     1 40.66953 0.3690396 13.62421 1362.755</span></span>
<span><span class="co">#&gt; 2:     4   2      3   0    0     1 40.67227 0.3692364 13.62422 1362.755</span></span>
<span><span class="co">#&gt; 3:     4   3      3   0    0     1 40.67501 0.3692556 13.62422 1362.755</span></span>
<span><span class="co">#&gt; 4:     4   4      3   0    0     1 40.67775 0.3693437 13.62422 1362.755</span></span>
<span><span class="co">#&gt; 5:     4   5      3   0    0     1 40.68049 0.3693518 13.62422 1362.755</span></span>
<span><span class="co">#&gt;    length_b length_c     mass leanmass  fatmass    mass_a   mass_b   mouth_r</span></span>
<span><span class="co">#&gt; 1:    -0.37    -0.18 29128.91 18379.19 10749.72 -4.834189 2.984353 0.1459854</span></span>
<span><span class="co">#&gt; 2:    -0.37    -0.18 29138.01 18379.20 10758.81 -4.834189 2.984353 0.1459854</span></span>
<span><span class="co">#&gt; 3:    -0.37    -0.18 29138.91 18379.20 10759.71 -4.834189 2.984353 0.1459854</span></span>
<span><span class="co">#&gt; 4:    -0.37    -0.18 29142.99 18379.21 10763.78 -4.834189 2.984353 0.1459854</span></span>
<span><span class="co">#&gt; 5:    -0.37    -0.18 29143.37 18379.22 10764.16 -4.834189 2.984353 0.1459854</span></span>
<span><span class="co">#&gt;    mouth_a  mouth_w abort starve died date_died p_surv</span></span>
<span><span class="co">#&gt; 1:    76.7 1.988936     0      0    0         0      1</span></span>
<span><span class="co">#&gt; 2:    76.7 1.988936     0      0    0         0      1</span></span>
<span><span class="co">#&gt; 3:    76.7 1.988936     0      0    0         0      1</span></span>
<span><span class="co">#&gt; 4:    76.7 1.988936     0      0    0         0      1</span></span>
<span><span class="co">#&gt; 5:    76.7 1.988937     0      0    0         0      1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt; Stressors </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;    whale day gear_risk is_entgl entgl_head entgl_sev entgl_d entgl_start</span></span>
<span><span class="co">#&gt; 1:     4   1         0        0          0         0       0           0</span></span>
<span><span class="co">#&gt; 2:     4   2         0        0          0         0       0           0</span></span>
<span><span class="co">#&gt; 3:     4   3         0        0          0         0       0           0</span></span>
<span><span class="co">#&gt; 4:     4   4         0        0          0         0       0           0</span></span>
<span><span class="co">#&gt; 5:     4   5         0        0          0         0       0           0</span></span>
<span><span class="co">#&gt;    entgl_end is_entgl_calf entgl_head_calf entgl_sev_calf entgl_d_calf</span></span>
<span><span class="co">#&gt; 1:         0             0               0              0            0</span></span>
<span><span class="co">#&gt; 2:         0             0               0              0            0</span></span>
<span><span class="co">#&gt; 3:         0             0               0              0            0</span></span>
<span><span class="co">#&gt; 4:         0             0               0              0            0</span></span>
<span><span class="co">#&gt; 5:         0             0               0              0            0</span></span>
<span><span class="co">#&gt;    entgl_start_calf entgl_end_calf strike_risk strike strike_calf noise_resp</span></span>
<span><span class="co">#&gt; 1:                0              0           0      0           0          0</span></span>
<span><span class="co">#&gt; 2:                0              0           0      0           0          0</span></span>
<span><span class="co">#&gt; 3:                0              0           0      0           0          0</span></span>
<span><span class="co">#&gt; 4:                0              0           0      0           0          0</span></span>
<span><span class="co">#&gt; 5:                0              0           0      0           0          0</span></span>
<span><span class="co">#&gt;    noise_lvl dB_thresh</span></span>
<span><span class="co">#&gt; 1:         0         0</span></span>
<span><span class="co">#&gt; 2:         0         0</span></span>
<span><span class="co">#&gt; 3:         0         0</span></span>
<span><span class="co">#&gt; 4:         0         0</span></span>
<span><span class="co">#&gt; 5:         0         0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt; Activity budgets </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;    whale day d_travel swimspeed      glide glide_feed glide_echelon t_travel</span></span>
<span><span class="co">#&gt; 1:     4   1 3.423671 0.7599443 0.08832360  0.2232512             0 1.251433</span></span>
<span><span class="co">#&gt; 2:     4   2 9.157525 1.1813921 0.08533398  0.2958658             0 2.153186</span></span>
<span><span class="co">#&gt; 3:     4   3 4.185526 0.8862305 0.08746686  0.5911404             0 1.311900</span></span>
<span><span class="co">#&gt; 4:     4   4 6.212131 0.7800888 0.08805436  0.4770002             0 2.212046</span></span>
<span><span class="co">#&gt; 5:     4   5 7.392055 1.0094592 0.08695322  0.2709297             0 2.034108</span></span>
<span><span class="co">#&gt;      t_feed t_rest_nurse</span></span>
<span><span class="co">#&gt; 1: 16.26587     6.482699</span></span>
<span><span class="co">#&gt; 2: 15.69783     6.148987</span></span>
<span><span class="co">#&gt; 3: 16.76200     5.926096</span></span>
<span><span class="co">#&gt; 4: 16.56145     5.226507</span></span>
<span><span class="co">#&gt; 5: 15.23622     6.729675</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt; Growth </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;    whale day  delta_fat  EDlip EDpro lip_anab lip_catab perc_muscle</span></span>
<span><span class="co">#&gt; 1:     4   1 10.1698638 39.539 23.64      0.8       0.8   0.5537975</span></span>
<span><span class="co">#&gt; 2:     4   2  9.0891762 39.539 23.64      0.8       0.8   0.5537975</span></span>
<span><span class="co">#&gt; 3:     4   3  0.8916973 39.539 23.64      0.8       0.8   0.5537975</span></span>
<span><span class="co">#&gt; 4:     4   4  4.0747901 39.539 23.64      0.8       0.8   0.5537975</span></span>
<span><span class="co">#&gt; 5:     4   5  0.3762128 39.539 23.64      0.8       0.8   0.5537975</span></span>
<span><span class="co">#&gt;    perc_viscera perc_bones</span></span>
<span><span class="co">#&gt; 1:    0.2009494  0.2452532</span></span>
<span><span class="co">#&gt; 2:    0.2009494  0.2452532</span></span>
<span><span class="co">#&gt; 3:    0.2009494  0.2452532</span></span>
<span><span class="co">#&gt; 4:    0.2009494  0.2452532</span></span>
<span><span class="co">#&gt; 5:    0.2009494  0.2452532</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt; Energy balance </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;    whale day     E_tot      E_in    E_out</span></span>
<span><span class="co">#&gt; 1:     4   1 502.63280  990.0397 487.4069</span></span>
<span><span class="co">#&gt; 2:     4   2 449.22117 1002.6947 553.4736</span></span>
<span><span class="co">#&gt; 3:     4   3  44.07103  534.0915 490.0205</span></span>
<span><span class="co">#&gt; 4:     4   4 201.39141  696.4399 495.0485</span></span>
<span><span class="co">#&gt; 5:     4   5  18.59385  552.1606 533.5668</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt; Energy intake </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;    whale day feed preyconc   minprey     gape feedspeed captEff impedance</span></span>
<span><span class="co">#&gt; 1:     4   1    1 3.886321 0.4686015 2.676211 0.7599443 0.91575         0</span></span>
<span><span class="co">#&gt; 2:     4   2    1 2.631467 0.4686015 2.676212 1.1813921 0.91575         0</span></span>
<span><span class="co">#&gt; 3:     4   3    1 1.754626 0.4686015 2.676213 0.8862305 0.91575         0</span></span>
<span><span class="co">#&gt; 4:     4   4    1 2.631467 0.4686015 2.676214 0.7800888 0.91575         0</span></span>
<span><span class="co">#&gt; 5:     4   5    1 1.754626 0.4686015 2.676215 1.0094592 0.91575         0</span></span>
<span><span class="co">#&gt;    feed_effort eta_lwrBC eta_upprBC  targetBC    cop_mass     cop_kJ digestEff</span></span>
<span><span class="co">#&gt; 1:   0.4904317        10         30 0.3674076 0.001670151 0.02391922      0.94</span></span>
<span><span class="co">#&gt; 2:   0.4889457        10         30 0.3674076 0.001670151 0.02391922      0.94</span></span>
<span><span class="co">#&gt; 3:   0.4876203        10         30 0.3674076 0.001670151 0.02391922      0.94</span></span>
<span><span class="co">#&gt; 4:   0.4874909        10         30 0.3674076 0.001670151 0.02391922      0.94</span></span>
<span><span class="co">#&gt; 5:   0.4868979        10         30 0.3674076 0.001670151 0.02391922      0.94</span></span>
<span><span class="co">#&gt;    metabEff_juv metabEff_ad       E_cop</span></span>
<span><span class="co">#&gt; 1:    0.7403977       0.875 0.004762958</span></span>
<span><span class="co">#&gt; 2:    0.7403977       0.875 0.004762958</span></span>
<span><span class="co">#&gt; 3:    0.7403977       0.875 0.004762958</span></span>
<span><span class="co">#&gt; 4:    0.7403977       0.875 0.004762958</span></span>
<span><span class="co">#&gt; 5:    0.7403977       0.875 0.004762958</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt; Energetic costs </span></span>
<span><span class="co">#&gt; --------------------------</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;    whale day    E_out      rmr       LC scalar_LC     stroke stroke_feed</span></span>
<span><span class="co">#&gt; 1:     4   1 487.4069 461.2304 26.07615         1 0.10982960   0.1609924</span></span>
<span><span class="co">#&gt; 2:     4   2 553.4736 461.2305 92.14276         1 0.14646990   0.1678607</span></span>
<span><span class="co">#&gt; 3:     4   3 490.0205 461.2307 28.68960         1 0.09891408   0.1725391</span></span>
<span><span class="co">#&gt; 4:     4   4 495.0485 461.2308 33.71755         1 0.07163653   0.1636737</span></span>
<span><span class="co">#&gt; 5:     4   5 533.5668 461.2309 72.23578         1 0.14700101   0.1642192</span></span>
<span><span class="co">#&gt;     E_growth</span></span>
<span><span class="co">#&gt; 1: 0.1003045</span></span>
<span><span class="co">#&gt; 2: 0.1002551</span></span>
<span><span class="co">#&gt; 3: 0.1002057</span></span>
<span><span class="co">#&gt; 4: 0.1001564</span></span>
<span><span class="co">#&gt; 5: 0.1001070</span></span></code></pre></div>
<blockquote>
<p><strong>Note 4.1:</strong> The <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> method is only
used for viewing data inside the R console. To export / save data on
disk, use the <code>export()</code> method (see relevant tutorial).</p>
</blockquote>
</div>
<div class="section level2">
<h2 id="model-summary-and-diagnostics">Model summary and diagnostics<a class="anchor" aria-label="anchor" href="#model-summary-and-diagnostics"></a>
</h2>
<p>The <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> method provides a range of diagnostics
that are helpful for assessing whether simulated whale behavior aligns
with biological expectations. These relate to individual (1) health, (2)
movements, (3) habitat use, (4) behavior (i.e., activity budgets), (5)
stressor exposure, and (6) energy intake vs. expenditure (see Table 1
below).</p>
<p>The function takes the following arguments:</p>
<table class="table">
<colgroup>
<col width="25%">
<col width="25%">
<col width="50%">
</colgroup>
<thead><tr class="header">
<th>Argument</th>
<th>Default value</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>obj</code></td>
<td><code>-</code></td>
<td>Model object of class <code>narwsim</code>, as returned by
<code><a href="../reference/narw.html">narw()</a></code>.</td>
</tr>
<tr class="even">
<td><code>what</code></td>
<td><code>"all"</code></td>
<td>Character string indicating which component(s) of the summary to
display. Can be one of: <code>"health"</code>, <code>"movements"</code>,
<code>"habitat"</code>, <code>"behavior"</code>,
<code>"stressors"</code>, <code>"strike"</code>, <code>"gear"</code>,
<code>"noise"</code>, <code>"other"</code>, or <code>"energy"</code>.
See below for details. Defaults to <code>"all"</code> for a complete
summary.</td>
</tr>
<tr class="odd">
<td><code>relative</code></td>
<td><code>FALSE</code></td>
<td>Logical. If <code>TRUE</code>, percentages are calculated relative
to class totals. Defaults to <code>FALSE</code>.</td>
</tr>
<tr class="even">
<td><code>quintile</code></td>
<td><code>TRUE</code></td>
<td>Logical. If <code>TRUE</code>, body condition plots (under the
“health” section) are based on quintiles of the data.</td>
</tr>
<tr class="odd">
<td><code>plot</code></td>
<td><code>FALSE</code></td>
<td>Logical. If <code>TRUE</code>, plots are produced in addition to a
text-based summary.</td>
</tr>
<tr class="even">
<td><code>whale</code></td>
<td><code>1:nsim</code></td>
<td>Positive integer indicating the individual for which data should be
extracted. By default, considers all <code>nsim</code> individuals.</td>
</tr>
<tr class="odd">
<td><code>cohort</code></td>
<td><code>1:6</code></td>
<td>Positive integer or vector of positive integers indicating which
cohorts should be considered. Defaults to all cohorts. Cohort
identifiers are listed in an object called <code>cohorts</code>.</td>
</tr>
</tbody>
</table>
<p>As summaries tend to be long and dense, the <code>what</code>
argument can be used to select subsets of data to show in the R console.
The table below lists the information returned for each possible value
of <code>what</code>.</p>
<table style="width:100%;" class="table">
<colgroup>
<col width="23%">
<col width="23%">
<col width="23%">
<col width="30%">
</colgroup>
<thead><tr class="header">
<th>Category</th>
<th>Component</th>
<th>Plots</th>
<th>Details</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>health</code></td>
<td>Mortality</td>
<td>No</td>
<td>Whale mortality by region, cohort, and cause of death (i.e.,
starvation vs. vessel strike) .</td>
</tr>
<tr class="even">
<td></td>
<td>Pregnancy</td>
<td>No</td>
<td>Observed abortion rate in females that started the simulation in a
pregnant state.</td>
</tr>
<tr class="odd">
<td></td>
<td>Births</td>
<td>No</td>
<td>Mean (range) date of calving events.</td>
</tr>
<tr class="even">
<td></td>
<td>Body condition</td>
<td>Yes</td>
<td>Time series of individual body condition (expressed as relative fat
mass), by cohort.</td>
</tr>
<tr class="odd">
<td></td>
<td>Growth</td>
<td>Yes</td>
<td>Growth curves, by cohort.</td>
</tr>
<tr class="even">
<td><code>movements</code></td>
<td>Locations</td>
<td>No</td>
<td>Breakdown of (daily) locations by cohort, region, and country (U.S.
vs. Canada).</td>
</tr>
<tr class="odd">
<td></td>
<td>Destinations</td>
<td>No</td>
<td>Comparison of assigned vs. realized migratory destinations both
within and across cohorts. Migratory endpoints include the Southeastern
United States calving grounds (SEUS) and Canadian feeding grounds in the
Gulf of St Lawrence (GSL).</td>
</tr>
<tr class="even">
<td></td>
<td>Step lengths</td>
<td>Yes</td>
<td>Summary of daily movements, reported as mean (± SD, range) distances
traveled per day, by cohort. Distributions of daily step lengths are
also visualized by region and as a whole.</td>
</tr>
<tr class="odd">
<td></td>
<td>Migration</td>
<td>No</td>
<td>Summary of yearly movements, reported as mean (± SD, range) total
distance covered over the time span of the simulation, by cohort.</td>
</tr>
<tr class="even">
<td><code>habitat</code></td>
<td>Occupancy</td>
<td>No</td>
<td>Cohort-specific summary of the numbers of animals visiting each
region, and the number of regions visited by animals.</td>
</tr>
<tr class="odd">
<td></td>
<td>Residency</td>
<td>No</td>
<td>Breakdown of days spent in each.</td>
</tr>
<tr class="even">
<td><code>behavior</code></td>
<td>Activity budgets</td>
<td>Yes</td>
<td>Mean (± SD) hours spent engaging in each of the four categories of
behavior considered in the model (i.e., traveling, resting, nursing, and
feeding), by region. A visual breakdown by region is also produced for
each category of behavior.</td>
</tr>
<tr class="odd">
<td><code>stressors</code></td>
<td>Entanglements (<code>gear</code>)</td>
<td>Yes</td>
<td>Various summaries by cohort, including: entanglement rates,
durations, severities, probabilities, and attachment sites along the
body.</td>
</tr>
<tr class="even">
<td></td>
<td>Vessel strikes (<code>strike</code>)</td>
<td>No</td>
<td>Strike rates by cohort.</td>
</tr>
<tr class="odd">
<td></td>
<td>Noise (<code>noise</code>)</td>
<td>No</td>
<td>Summary of mean (± SD, range) noise levels encountered, behavioral
response thresholds, and numbers of days during which a response to
pile-driving was observed.</td>
</tr>
<tr class="even">
<td></td>
<td>Other sources of mortality (<code>other</code>)</td>
<td>No</td>
<td>Summary of mortality from other sources, by cohort.</td>
</tr>
<tr class="odd">
<td>Energy</td>
<td>Energy budget</td>
<td>No</td>
<td>Mean (± SD, range) daily energy intake and expenditure (expressed in
MJ/day), by cohort. Also reported are the mean (± SD, range) % time
individuals are in energetic deficit (energy balance &lt; 0) or surplus
(energy balance &gt; 0).</td>
</tr>
</tbody>
</table>
<p>Similarly, the <code>cohort</code> argument can be used to only
display data for specific population cohorts. This works based on a
unique cohort ID number, which is an integer between 1 and 6. A list of
cohort IDs is stored in the left-most column of an object called
<code>cohorts</code>, as shown below:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cohorts</span></span>
<span><span class="co">#&gt;    id                       name     class     abb  colour</span></span>
<span><span class="co">#&gt; 1:  0      Calves (male, female)    Calves  c(m,f)   black</span></span>
<span><span class="co">#&gt; 2:  1           Juveniles (male) Juveniles  jv(ml) #104E8B</span></span>
<span><span class="co">#&gt; 3:  2         Juveniles (female) Juveniles jv(fml) #F69554</span></span>
<span><span class="co">#&gt; 4:  3              Adults (male)    Adults  ad(ml) #22BA9C</span></span>
<span><span class="co">#&gt; 5:  4  Adults (female, pregnant)    Adults ad(f,p) #84375A</span></span>
<span><span class="co">#&gt; 6:  5 Adults (female, lactating)    Adults ad(f,l) #EEB422</span></span>
<span><span class="co">#&gt; 7:  6   Adults (female, resting)    Adults ad(f,r) #942F33</span></span></code></pre></div>
<p>Based on this, the code below prints a complete summary (all
categories of data listed in the above table) for the cohorts of
lactating (ID = 5) females:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Summary for adult females only</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">model_base</span>, cohort <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span><span class="co">#&gt; -------------------------------------------------------------</span></span>
<span><span class="co">#&gt; -------------------------------------------------------------</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;      NORTH ATLANTIC RIGHT WHALE (Eubalaena glacialis)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;              *** PCoMS MODEL SUMMARY ***</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; -------------------------------------------------------------</span></span>
<span><span class="co">#&gt; -------------------------------------------------------------</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; BOF: Bay of Fundy</span></span>
<span><span class="co">#&gt; CCB: Cape Cod Bay</span></span>
<span><span class="co">#&gt; CST: Cabot Strait</span></span>
<span><span class="co">#&gt; GMAN: Grand Manan Basin</span></span>
<span><span class="co">#&gt; GOM: Gulf of Maine and Georges Bank</span></span>
<span><span class="co">#&gt; GSL: Gulf of St Lawrence</span></span>
<span><span class="co">#&gt; MIDA: Mid-Atlantic</span></span>
<span><span class="co">#&gt; SCOS: Scotian Shelf</span></span>
<span><span class="co">#&gt; SEUS: Southeastern United States</span></span>
<span><span class="co">#&gt; SNE: Southern New England</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; =============================================================</span></span>
<span><span class="co">#&gt; SIMULATIONS</span></span>
<span><span class="co">#&gt; =============================================================</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; No. animals: 1,000 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Cohort(s)</span></span>
<span><span class="co">#&gt; ----------</span></span>
<span><span class="co">#&gt; c(m,f): Calves (male, female)</span></span>
<span><span class="co">#&gt; ad(f,l): Adults (female, lactating)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Simulation start: October </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; =============================================================</span></span>
<span><span class="co">#&gt; HEALTH</span></span>
<span><span class="co">#&gt; =============================================================</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; +++++++++++ Mortality +++++++++++</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; cohort                       alive         dead        </span></span>
<span><span class="co">#&gt; ---------------------------  ------------  ------------</span></span>
<span><span class="co">#&gt; Adults (female, lactating)   92.4% (924)   7.6%  (76)  </span></span>
<span><span class="co">#&gt; Calves (male, female)        82.6% (826)   17.4% (174) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; +++++++++++ Mortality (by source) +++++++++++</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; cohort    cause_death        N         </span></span>
<span><span class="co">#&gt; --------  -----------------  ----------</span></span>
<span><span class="co">#&gt; ad(f,l)   starve             4.5% (45) </span></span>
<span><span class="co">#&gt; ad(f,l)   natural            1.8% (18) </span></span>
<span><span class="co">#&gt; ad(f,l)   strike             1.3% (13) </span></span>
<span><span class="co">#&gt; c(m,f)    starve             8.2% (82) </span></span>
<span><span class="co">#&gt; c(m,f)    natural            2.7% (27) </span></span>
<span><span class="co">#&gt; c(m,f)    starve (female)    2.7% (27) </span></span>
<span><span class="co">#&gt; c(m,f)    natural (female)   1.7% (17) </span></span>
<span><span class="co">#&gt; c(m,f)    strike (female)    1.2% (12) </span></span>
<span><span class="co">#&gt; c(m,f)    strike             0.9%  (9) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; +++++++++++ Mortality (by region) +++++++++++</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; region   cause_death   ad(f,l)     c(m,f)    </span></span>
<span><span class="co">#&gt; -------  ------------  ----------  ----------</span></span>
<span><span class="co">#&gt; CST      natural       0.0%  (0)   0.6%  (1) </span></span>
<span><span class="co">#&gt; GOM      natural       3.9%  (3)   4.0%  (7) </span></span>
<span><span class="co">#&gt; GSL      natural       3.9%  (3)   1.1%  (2) </span></span>
<span><span class="co">#&gt; MIDA     natural       1.3%  (1)   0.6%  (1) </span></span>
<span><span class="co">#&gt; SCOS     natural       2.6%  (2)   2.9%  (5) </span></span>
<span><span class="co">#&gt; SEUS     natural       9.2%  (7)   4.6%  (8) </span></span>
<span><span class="co">#&gt; SNE      natural       2.6%  (2)   1.7%  (3) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; region   cause_death        ad(f,l)     c(m,f)    </span></span>
<span><span class="co">#&gt; -------  -----------------  ----------  ----------</span></span>
<span><span class="co">#&gt; GOM      natural (female)   0.0%  (0)   1.7%  (3) </span></span>
<span><span class="co">#&gt; GSL      natural (female)   0.0%  (0)   1.7%  (3) </span></span>
<span><span class="co">#&gt; MIDA     natural (female)   0.0%  (0)   0.6%  (1) </span></span>
<span><span class="co">#&gt; SCOS     natural (female)   0.0%  (0)   1.1%  (2) </span></span>
<span><span class="co">#&gt; SEUS     natural (female)   0.0%  (0)   4.0%  (7) </span></span>
<span><span class="co">#&gt; SNE      natural (female)   0.0%  (0)   0.6%  (1) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; region   cause_death   ad(f,l)      c(m,f)     </span></span>
<span><span class="co">#&gt; -------  ------------  -----------  -----------</span></span>
<span><span class="co">#&gt; CCB      starve        1.3%  (1)    0.0%  (0)  </span></span>
<span><span class="co">#&gt; CST      starve        13.2% (10)   7.5% (13)  </span></span>
<span><span class="co">#&gt; GMAN     starve        1.3%  (1)    1.1%  (2)  </span></span>
<span><span class="co">#&gt; GOM      starve        6.6%  (5)    12.6% (22) </span></span>
<span><span class="co">#&gt; GSL      starve        3.9%  (3)    2.9%  (5)  </span></span>
<span><span class="co">#&gt; MIDA     starve        2.6%  (2)    3.4%  (6)  </span></span>
<span><span class="co">#&gt; SCOS     starve        13.2% (10)   18.4% (32) </span></span>
<span><span class="co">#&gt; SNE      starve        17.1% (13)   1.1%  (2)  </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; region   cause_death       ad(f,l)     c(m,f)    </span></span>
<span><span class="co">#&gt; -------  ----------------  ----------  ----------</span></span>
<span><span class="co">#&gt; CST      starve (female)   0.0%  (0)   1.7%  (3) </span></span>
<span><span class="co">#&gt; GMAN     starve (female)   0.0%  (0)   0.6%  (1) </span></span>
<span><span class="co">#&gt; GOM      starve (female)   0.0%  (0)   2.9%  (5) </span></span>
<span><span class="co">#&gt; GSL      starve (female)   0.0%  (0)   0.6%  (1) </span></span>
<span><span class="co">#&gt; MIDA     starve (female)   0.0%  (0)   1.1%  (2) </span></span>
<span><span class="co">#&gt; SCOS     starve (female)   0.0%  (0)   5.2%  (9) </span></span>
<span><span class="co">#&gt; SNE      starve (female)   0.0%  (0)   3.4%  (6) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; region   cause_death   ad(f,l)     c(m,f)    </span></span>
<span><span class="co">#&gt; -------  ------------  ----------  ----------</span></span>
<span><span class="co">#&gt; GMAN     strike        0.0%  (0)   0.6%  (1) </span></span>
<span><span class="co">#&gt; GOM      strike        1.3%  (1)   0.0%  (0) </span></span>
<span><span class="co">#&gt; GSL      strike        1.3%  (1)   0.0%  (0) </span></span>
<span><span class="co">#&gt; MIDA     strike        0.0%  (0)   0.6%  (1) </span></span>
<span><span class="co">#&gt; SEUS     strike        6.6%  (5)   2.9%  (5) </span></span>
<span><span class="co">#&gt; SNE      strike        7.9%  (6)   1.1%  (2) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; region   cause_death       ad(f,l)     c(m,f)    </span></span>
<span><span class="co">#&gt; -------  ----------------  ----------  ----------</span></span>
<span><span class="co">#&gt; GOM      strike (female)   0.0%  (0)   0.6%  (1) </span></span>
<span><span class="co">#&gt; GSL      strike (female)   0.0%  (0)   0.6%  (1) </span></span>
<span><span class="co">#&gt; SEUS     strike (female)   0.0%  (0)   2.9%  (5) </span></span>
<span><span class="co">#&gt; SNE      strike (female)   0.0%  (0)   2.9%  (5) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; +++++++++++ Births +++++++++++</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; No. births: 1000 (100%)</span></span>
<span><span class="co">#&gt; DOB: 1 Jan</span></span></code></pre></div>
<p><img src="model_summary_files/figure-html/model_summary-1.png" width="700"></p>
<pre><code><span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; =============================================================</span></span>
<span><span class="co">#&gt; MOVEMENTS (km)</span></span>
<span><span class="co">#&gt; =============================================================</span></span></code></pre>
<p><img src="model_summary_files/figure-html/model_summary-2.png" width="700"></p>
<pre><code><span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; +++++++++++ Migratory destinations (by cohort) +++++++++++</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; cohort    SEUS   reach_not   reach         </span></span>
<span><span class="co">#&gt; --------  -----  ----------  --------------</span></span>
<span><span class="co">#&gt; ad(f,l)   0      0.0% (0)    100.0%  (947) </span></span>
<span><span class="co">#&gt; ad(f,l)   1      0.0% (0)    100.0% (1000) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; cohort    GSL   reach_not      reach       </span></span>
<span><span class="co">#&gt; --------  ----  -------------  ------------</span></span>
<span><span class="co">#&gt; ad(f,l)   0     86.5% (1038)   13.5% (162) </span></span>
<span><span class="co">#&gt; ad(f,l)   1     5.1%   (38)    94.9% (709) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; +++++++++++ Migratory destinations (all individuals) +++++++++++</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; SEUS   reach_not   reach         </span></span>
<span><span class="co">#&gt; -----  ----------  --------------</span></span>
<span><span class="co">#&gt; 0      0.0% (0)    100.0%  (947) </span></span>
<span><span class="co">#&gt; 1      0.0% (0)    100.0% (1000) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; GSL   reach_not      reach       </span></span>
<span><span class="co">#&gt; ----  -------------  ------------</span></span>
<span><span class="co">#&gt; 0     86.5% (1038)   13.5% (162) </span></span>
<span><span class="co">#&gt; 1     5.1%   (38)    94.9% (709) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; +++++++++++ Step lengths and migration distances +++++++++++</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; cohort    step                   migration                     </span></span>
<span><span class="co">#&gt; --------  ---------------------  ------------------------------</span></span>
<span><span class="co">#&gt; ad(f,l)   18.9 (±21) [0–180.8]   8,516 (±1,052) [2,186–11,895] </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; =============================================================</span></span>
<span><span class="co">#&gt; HABITAT USE</span></span>
<span><span class="co">#&gt; =============================================================</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; region   ad(f,l)        </span></span>
<span><span class="co">#&gt; -------  ---------------</span></span>
<span><span class="co">#&gt; BOF      0.1%    (351)  </span></span>
<span><span class="co">#&gt; CCB      0.1%    (442)  </span></span>
<span><span class="co">#&gt; CST      4.9%  (21970)  </span></span>
<span><span class="co">#&gt; GMAN     0.8%   (3459)  </span></span>
<span><span class="co">#&gt; GOM      20.9%  (92730) </span></span>
<span><span class="co">#&gt; GSL      9.4%  (41809)  </span></span>
<span><span class="co">#&gt; MIDA     8.5%  (37875)  </span></span>
<span><span class="co">#&gt; SCOS     7.4%  (32939)  </span></span>
<span><span class="co">#&gt; SEUS     23.3% (103702) </span></span>
<span><span class="co">#&gt; SNE      24.6% (109103) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; country   ad(f,l)        </span></span>
<span><span class="co">#&gt; --------  ---------------</span></span>
<span><span class="co">#&gt; Canada    22.6% (100528) </span></span>
<span><span class="co">#&gt; U.S.      77.4% (343852) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; +++++++++++ Number of animals visiting each region (N = 1000) +++++++++++</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; region   ad(f,l)     </span></span>
<span><span class="co">#&gt; -------  ------------</span></span>
<span><span class="co">#&gt; BOF      2.9% (29)   </span></span>
<span><span class="co">#&gt; CCB      0.8% (8)    </span></span>
<span><span class="co">#&gt; CST      56.3% (563) </span></span>
<span><span class="co">#&gt; GMAN     13.9% (139) </span></span>
<span><span class="co">#&gt; GOM      98.2% (982) </span></span>
<span><span class="co">#&gt; GSL      43.7% (437) </span></span>
<span><span class="co">#&gt; MIDA     100% (1000) </span></span>
<span><span class="co">#&gt; SCOS     94.3% (943) </span></span>
<span><span class="co">#&gt; SEUS     100% (1000) </span></span>
<span><span class="co">#&gt; SNE      100% (1000) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; +++++++++++ Days spent in each region +++++++++++</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; region   ad(f,l)                </span></span>
<span><span class="co">#&gt; -------  -----------------------</span></span>
<span><span class="co">#&gt; BOF      12.1 (±9.4) [1–34]     </span></span>
<span><span class="co">#&gt; CCB      55.2 (±52.6) [5–130]   </span></span>
<span><span class="co">#&gt; CST      39 (±14.9) [2–93]      </span></span>
<span><span class="co">#&gt; GMAN     24.9 (±14.1) [1–92]    </span></span>
<span><span class="co">#&gt; GOM      94.4 (±49.1) [1–245]   </span></span>
<span><span class="co">#&gt; GSL      95.7 (±42.2) [1–180]   </span></span>
<span><span class="co">#&gt; MIDA     37.9 (±9.9) [13–136]   </span></span>
<span><span class="co">#&gt; SCOS     34.9 (±19.4) [1–114]   </span></span>
<span><span class="co">#&gt; SEUS     104.1 (±14.5) [45–146] </span></span>
<span><span class="co">#&gt; SNE      109.1 (±37.5) [34–313] </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; +++++++++++ Total number of regions visited +++++++++++</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  No.regions  ad(f,l)      </span></span>
<span><span class="co">#&gt; -----------  -------------</span></span>
<span><span class="co">#&gt;           3  100.0%  (18) </span></span>
<span><span class="co">#&gt;           4  100.0%  (39) </span></span>
<span><span class="co">#&gt;           5  100.0% (278) </span></span>
<span><span class="co">#&gt;           6  100.0% (173) </span></span>
<span><span class="co">#&gt;           7  100.0% (474) </span></span>
<span><span class="co">#&gt;           8  100.0%  (17) </span></span>
<span><span class="co">#&gt;           9  100.0%   (1) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; =============================================================</span></span>
<span><span class="co">#&gt; ACTIVITY BUDGETS</span></span>
<span><span class="co">#&gt; =============================================================</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; +++++++++++  Adults (female, lactating)  +++++++++++</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; region   travel (hrs)    rest/nurse (hrs)   feed (hrs)    </span></span>
<span><span class="co">#&gt; -------  --------------  -----------------  --------------</span></span>
<span><span class="co">#&gt; SNE      4.64 (±4.02)    12.52 (±6.93)      16.11 (±0.62) </span></span>
<span><span class="co">#&gt; MIDA     15.56 (±6.01)   7.68 (±6.16)       7.44 (±5.45)  </span></span>
<span><span class="co">#&gt; SEUS     11.61 (±5.81)   12.39 (±5.81)      0 (± 0)       </span></span>
<span><span class="co">#&gt; GOM      3.3 (±2.4)      6.57 (±4.65)       16.11 (±0.64) </span></span>
<span><span class="co">#&gt; SCOS     14.46 (±6.47)   1.33 (±3.27)       8.87 (±5.59)  </span></span>
<span><span class="co">#&gt; CCB      1.61 (±1.58)    20.1 (±5.92)       16.07 (±0.66) </span></span>
<span><span class="co">#&gt; GMAN     2.71 (±2.12)    8.48 (±6.53)       16.11 (±0.61) </span></span>
<span><span class="co">#&gt; CST      3.18 (±2.35)    7.42 (±5.6)        16.11 (±0.64) </span></span>
<span><span class="co">#&gt; GSL      2.72 (±1.56)    5.59 (±3.04)       16.11 (±0.63) </span></span>
<span><span class="co">#&gt; BOF      2.62 (±1.52)    5.5 (±2.33)        16.11 (±0.64)</span></span></code></pre>
<p><img src="model_summary_files/figure-html/model_summary-3.png" width="700"></p>
<pre><code><span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; =============================================================</span></span>
<span><span class="co">#&gt; STRESSORS</span></span>
<span><span class="co">#&gt; =============================================================</span></span></code></pre>
<p><img src="model_summary_files/figure-html/model_summary-4.png" width="700"></p>
<pre><code><span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; +++++++++++ Entanglements +++++++++++</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; entangled   rate         </span></span>
<span><span class="co">#&gt; ----------  -------------</span></span>
<span><span class="co">#&gt; no          91.2% (1825) </span></span>
<span><span class="co">#&gt; yes         8.8% (175)   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; position   rate       </span></span>
<span><span class="co">#&gt; ---------  -----------</span></span>
<span><span class="co">#&gt; body       51.4% (90) </span></span>
<span><span class="co">#&gt; head       48% (84)   </span></span>
<span><span class="co">#&gt; head       0.6% (1)   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; cohort    not entangled   entangled </span></span>
<span><span class="co">#&gt; --------  --------------  ----------</span></span>
<span><span class="co">#&gt; ad(f,l)   91.0% (910)     9.0% (90) </span></span>
<span><span class="co">#&gt; c(m,f)    91.5% (915)     8.5% (85) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; cohort    No. events per animal   p(entangled)         </span></span>
<span><span class="co">#&gt; --------  ----------------------  ---------------------</span></span>
<span><span class="co">#&gt; ad(f,l)   1.06 (±0.27) [1–3]      0 (±0.002) [0–0.217] </span></span>
<span><span class="co">#&gt; c(m,f)    1 (±0) [1–1]            NA                   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; cohort    minor        moderate     severe   </span></span>
<span><span class="co">#&gt; --------  -----------  -----------  ---------</span></span>
<span><span class="co">#&gt; ad(f,l)   87.9% (80)   9.9%  (9)    2.2% (2) </span></span>
<span><span class="co">#&gt; c(m,f)    18.8% (16)   81.2% (69)   0.0% (0) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; cohort    minor (days)       moderate (days)    severe (days)    </span></span>
<span><span class="co">#&gt; --------  -----------------  -----------------  -----------------</span></span>
<span><span class="co">#&gt; ad(f,l)   57 (±46) [1–285]   59 (±51) [1–155]   37 (±25) [19–55] </span></span>
<span><span class="co">#&gt; c(m,f)    59 (±49) [4–161]   60 (±46) [4–199]   0 (±0) [0–0]     </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; +++++++++++ Vessel strikes +++++++++++</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; strike   rate         </span></span>
<span><span class="co">#&gt; -------  -------------</span></span>
<span><span class="co">#&gt; no       98.9% (1978) </span></span>
<span><span class="co">#&gt; yes      1.1% (22)    </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; cohort    not struck    struck    </span></span>
<span><span class="co">#&gt; --------  ------------  ----------</span></span>
<span><span class="co">#&gt; ad(f,l)   98.7% (987)   1.3% (13) </span></span>
<span><span class="co">#&gt; c(m,f)    99.1% (991)   0.9%  (9) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; cohort    p(strike)                          </span></span>
<span><span class="co">#&gt; --------  -----------------------------------</span></span>
<span><span class="co">#&gt; ad(f,l)   2.85e-05 (±7.12e-05) [0–0.0037253] </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; +++++++++++ Other sources of mortality +++++++++++</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; mortality   rate         </span></span>
<span><span class="co">#&gt; ----------  -------------</span></span>
<span><span class="co">#&gt; alive       97.6% (1952) </span></span>
<span><span class="co">#&gt; dead        2.4% (48)    </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; cohort    alive         dead      </span></span>
<span><span class="co">#&gt; --------  ------------  ----------</span></span>
<span><span class="co">#&gt; ad(f,l)   98.2% (982)   1.8% (18) </span></span>
<span><span class="co">#&gt; c(m,f)    97.0% (970)   3.0% (30) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; +++++++++++ Pile-driving noise +++++++++++</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; cohort    noise level               response threshold        response   Duration (days) </span></span>
<span><span class="co">#&gt; --------  ------------------------  ------------------------  ---------  ----------------</span></span>
<span><span class="co">#&gt; ad(f,l)   63.438 (±32.414) [0–80]   119.8 (±64.5) [0–199.9]   - (0)      0 (±0) [0–0]    </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; =============================================================</span></span>
<span><span class="co">#&gt; ENERGY BUDGETS (MJ per day) </span></span>
<span><span class="co">#&gt; =============================================================</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; cohort    Energy_intake                   Energy_expenditure               </span></span>
<span><span class="co">#&gt; --------  ------------------------------  ---------------------------------</span></span>
<span><span class="co">#&gt; ad(f,l)   739.7 (±1,358.7) [0–15,322.1]   1,938.7 (±820.8) [426.8–6,222.9] </span></span>
<span><span class="co">#&gt; c(m,f)    1,311.8 (±631.8) [0–3,392.7]    519.2 (±134.8) [241.9–1,910.5]   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; cohort    Deficit                    Surplus                   </span></span>
<span><span class="co">#&gt; --------  -------------------------  --------------------------</span></span>
<span><span class="co">#&gt; ad(f,l)   81.2% (±9.6) [50.8–100]    18.8% (±9.6) [0–49.2]     </span></span>
<span><span class="co">#&gt; c(m,f)    16.7% (±18.6) [0.3–64.7]   83.3% (±18.6) [35.3–99.7]</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="plotting-model-outputs">Plotting model outputs<a class="anchor" aria-label="anchor" href="#plotting-model-outputs"></a>
</h2>
<p>Several plots can be obtained from the outputs of the agent-based
model – all are produced using the <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> method, which
takes the following arguments:</p>
<table class="table">
<colgroup>
<col width="25%">
<col width="25%">
<col width="50%">
</colgroup>
<thead><tr class="header">
<th>Argument</th>
<th>Default value</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>obj</code></td>
<td><code>-</code></td>
<td>Model object of class <code>narwsim</code>, as returned by
<code><a href="../reference/narw.html">narw()</a></code>.</td>
</tr>
<tr class="even">
<td><code>what</code></td>
<td><code>"map"</code></td>
<td>Character string indicating which plots to return.</td>
</tr>
<tr class="odd">
<td><code>whale</code></td>
<td><code>1:nsim</code></td>
<td>Positive integer or vector of integers indicating the individual(s)
for which data should be extracted. By default, the function plots
tracks for all <code>nsim</code> simulated animals.</td>
</tr>
<tr class="even">
<td><code>cohort</code></td>
<td><code>1:6</code></td>
<td>Positive integer or vector of positive integers indicating which
cohorts should be considered. Defaults to all cohorts. Cohort
identifiers are listed in an object called <code>cohorts</code>.</td>
</tr>
<tr class="odd">
<td><code>web</code></td>
<td><code>FALSE</code></td>
<td>Logical. Whether to produce static maps (<code>FALSE</code>) or
interactive, web-based maps (<code>TRUE</code>).</td>
</tr>
<tr class="even">
<td><code>nL</code></td>
<td><code>100</code></td>
<td>Positive integer. Number of tracks to plot (when
<code>what = "map"</code>) or number of draws to plot from the Bayesian
posterior distribution of survival, health, and gestation models (when
<code>what = "pred"</code>). In the former case, this argument should be
kept &lt; 100 to minimize memory usage and avoid lengthy run times.</td>
</tr>
<tr class="odd">
<td><code>lwd</code></td>
<td><code>0.2</code></td>
<td>Numeric value. Thickness of the lines used to illustrate movement
tracks.</td>
</tr>
<tr class="even">
<td><code>alpha</code></td>
<td><code>0.7</code></td>
<td>Numeric value between 0 and 1. Level of transparency of the
tracks.</td>
</tr>
</tbody>
</table>
<div class="section level3">
<h3 id="plot-type">Plot type<a class="anchor" aria-label="anchor" href="#plot-type"></a>
</h3>
<p>By default, a call to <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> will automatically generate
maps of simulated whale tracks, with labels indicating the locations of
births (in green, if relevant) and deaths (color-coded by cause of
mortality). This behavior is controlled by the <code>what</code>
argument, which is preset to <code>"map"</code>. <code>what</code> may
also be set to <code>"pred"</code> to visualize how survival and body
condition are predicted to vary as a function of individual health (see
next Tutorial 5).</p>
</div>
<div class="section level3">
<h3 id="number-of-tracks">Number of tracks<a class="anchor" aria-label="anchor" href="#number-of-tracks"></a>
</h3>
<p>The number of tracks shown is limited to a maximum of
<code>nL = 100</code> to improve legibility and ensure that the code
runs smoothly. We recommend against modifying this default setting,
unless absolutely necessary (i.e., fewer/more tracks can be displayed by
decreasing or increasing value passed to the <code>nL</code>
argument).</p>
</div>
<div class="section level3">
<h3 id="subsets-of-data">Subsets of data<a class="anchor" aria-label="anchor" href="#subsets-of-data"></a>
</h3>
<p>Similarly to the other methods described in preceding sections, the
<code>cohort</code> and <code>whale</code> arguments can be used to
display data for particular cohorts and/or individuals of interest.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">model_base</span>, cohort <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning in plot.narwsim(model_base, cohort = 5): Plotting only the first 100</span></span>
<span><span class="co">#&gt; tracks</span></span></code></pre></div>
<p><img src="model_summary_files/figure-html/model_plot-1.png" width="768"></p>
</div>
<div class="section level3">
<h3 id="plot-aesthetics">Plot aesthetics<a class="anchor" aria-label="anchor" href="#plot-aesthetics"></a>
</h3>
<p>The thickness and transparency of track lines can be changed via the
<code>lwd</code> and <code>alpha</code> arguments, respectively. Lower
values of <code>lwd</code> produce thinner lines, and lower values of
<code>alpha</code> increase transparency.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">model_base</span>, cohort <span class="op">=</span> <span class="fl">5</span>, whale <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, alpha <span class="op">=</span> <span class="fl">0.2</span>, lwd <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<p><img src="model_summary_files/figure-html/model_plot02-1.png" width="768"></p>
</div>
<div class="section level3">
<h3 id="interactive-maps">Interactive maps<a class="anchor" aria-label="anchor" href="#interactive-maps"></a>
</h3>
<p>Lastly, when <code>web</code> is set to <code>TRUE</code>,
interactive web-based maps are produced using the <a href="https://plotly.com/ggplot2/" class="external-link"><code>ggplotly</code></a> R package.
These can be zoomed and panned using the mouse cursor to get a closer
look at specific areas of interest. The location (easting, northing) and
ID of each animal are displayed upon mouse hover.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by P. Bouchet, E. Pirotta, J. Hewitt, R. Schick, C. Harris, L. Thomas.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
